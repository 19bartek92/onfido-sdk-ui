!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Onfido=t():e.Onfido=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}([function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1),n(19),n(4),n(32),n(36),n(3),n(6)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r,o,i,a,s,u){"use strict";function c(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var d=c(i),h=c(a),v=c(u),y={},m={token:"some token",buttonId:"onfido-button",containerId:"onfido-mount",onReady:null,onDocumentCapture:null,onFaceCapture:null,onComplete:null},b=function(e){function t(){var n,r,o;l(this,t);for(var i=arguments.length,a=Array(i),s=0;i>s;s++)a[s]=arguments[s];return n=r=f(this,e.call.apply(e,[this].concat(a))),r.handleRoute=function(e){r.currentUrl=e.url},o=n,f(r,o)}return p(t,e),t.prototype.render=function(){var e=this.props.options;return(0,n.h)(r.Provider,{store:o.store},(0,n.h)(s.Router,{onChange:this.handleRoute,url:"/"},(0,n.h)(h["default"],{options:e,path:"/"}),(0,n.h)(h["default"],{options:e,path:"/step/:step/"})))},t}(n.Component);y.init=function(e){var t=(0,v["default"])({},m,e);t.mount=document.getElementById(t.containerId),d["default"].create(t),(0,n.render)((0,n.h)(b,{options:t}),t.mount)},y.getCaptures=function(){return o.events.getCaptures()},t["default"]=y,e.exports=t["default"]})},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e,t,n){this.nodeName=e,this.attributes=t,this.children=n,this.key=t&&t.key}function n(e,t){if(t)for(var n in t)e[n]=t[n];return e}function r(e){return n({},e)}function o(e){var t={};return function(n){return t[n]||(t[n]=e(n))}}function i(e,t){for(var n=t.split("."),r=0;n.length>r&&e;r++)e=e[n[r]];return e}function a(e,t){return[].slice.call(e,t)}function s(e){return"function"==typeof e}function u(e){return"string"==typeof e}function c(e){return void 0===e||null===e}function l(e){return e===!1||c(e)}function f(e){var t="";for(var n in e){var r=e[n];c(r)||(t&&(t+=" "),t+=ue(n),t+=": ",t+=r,"number"!=typeof r||se[n]||(t+="px"),t+=";")}return t}function p(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function d(e,t,n){var r=e[t];r&&!u(r)&&(e[t]=n(r))}function h(e,t){return v(de,e,t)}function v(e,t,n,r,o){return e[t]?e[t](n,r,o):void 0}function y(e,t){do v(e,t);while(e=e._component)}function m(e,n,r){var o=arguments.length,i=void 0,a=void 0,c=void 0;if(o>2){var f=typeof r;if(3===o&&"object"!==f&&"function"!==f)l(r)||(i=[r+""]);else{i=[];for(var p=2;o>p;p++){var d=arguments[p];if(!l(d)){d.join?a=d:(a=he,a[0]=d);for(var v=0;a.length>v;v++){var y=a[v],b=!(l(y)||s(y)||y instanceof t);b&&!u(y)&&(y+=""),b&&c?i[i.length-1]+=y:l(y)||i.push(y),c=b}}}}}else if(n&&n.children)return m(e,n,n.children);var g=new t(e,n||void 0,i);return h("vnode",g),g}function b(e,t){return m(e.nodeName,n(r(e.attributes),t),arguments.length>2?a(arguments,2):e.children)}function g(e,t,n){var r=t.split("."),o=r[0],a=r.length;return function(t){var l,f=t&&t.currentTarget||this,p=e.state,d=p,h=void 0,v=void 0;if(u(n)?(h=i(t,n),c(h)&&(f=f._component)&&(h=i(f,n))):h=(f.nodeName+f.type).match(/^input(check|rad)/i)?f.checked:f.value,s(h)&&(h=h.call(f)),a>1){for(v=0;a-1>v;v++)d=d[r[v]]||(d[r[v]]={});d[r[v]]=h,h=p[o]}e.setState((l={},l[o]=h,l))}}function _(e){1===ve.push(e)&&(de.debounceRendering||pe)(w)}function w(){if(ve.length){var e=ve,t=void 0;for(ve=ye,ye=e;t=e.pop();)t._dirty&&Y(t)}}function C(e){var t=e.nodeName;return t&&s(t)&&!(t.prototype&&t.prototype.render)}function O(e,t){return e.nodeName(D(e),t||oe)||ie}function E(e,t){return e[ae]||(e[ae]=t||{})}function P(e){return e instanceof Text?3:e instanceof Element?1:0}function x(e,t){for(var n=t.length,r=n>2,o=r?document.createDocumentFragment():e,i=0;n>i;i++)o.appendChild(t[i]);r&&e.appendChild(o)}function T(e){var t=e.parentNode;t&&t.removeChild(e)}function S(e,t,n){if(E(e)[t]=n,"key"!==t&&"children"!==t)if("class"===t)e.className=n||"";else if("style"===t)e.style.cssText=n||"";else if("dangerouslySetInnerHTML"===t)n&&n.__html&&(e.innerHTML=n.__html);else if("type"!==t&&t in e)k(e,t,c(n)?"":n),l(n)&&e.removeAttribute(t);else if("o"===t[0]&&"n"===t[1]){var r=me(t),o=e._listeners||(e._listeners={});o[r]?n||e.removeEventListener(r,M):e.addEventListener(r,M),o[r]=n}else l(n)?e.removeAttribute(t):"object"==typeof n||s(n)||e.setAttribute(t,n)}function k(e,t,n){try{e[t]=n}catch(r){}}function M(e){return this._listeners[me(e.type)](h("event",e)||e)}function j(e){for(var t=e.attributes,n={},r=t.length;r--;)n[t[r].name]=t[r].value;return n}function N(e,t){if(u(t))return 3===P(e);var n=t.nodeName,r=typeof n;return"string"===r?e.normalizedNodeName===n||A(e,n):"function"===r?e._componentConstructor===n||C(t):void 0}function A(e,t){return ce(e.nodeName)===ce(t)}function D(e){var t=e.nodeName.defaultProps,o=r(t||e.attributes);return t&&n(o,e.attributes),e.children&&(o.children=e.children),o}function R(e){I(e);var t=ce(e.nodeName),n=be[t];n?n.push(e):be[t]=[e]}function U(e){var t=ce(e),n=be[t],r=n&&n.pop()||document.createElement(e);return E(r),r.normalizedNodeName=t,r}function I(e){T(e),3!==P(e)&&(E(e,j(e)),e._component=e._componentConstructor=null)}function L(e,t,n,r,o){for(var i=t.attributes;C(t);)t=O(t,n);if(u(t)){if(e){if(3===P(e))return e.nodeValue!==t&&(e.nodeValue=t),e;o||R(e)}return document.createTextNode(t)}if(s(t.nodeName))return J(e,t,n,r);var c=e,l=t.nodeName;return u(l)||(l+=""),e?A(e,l)||(c=U(l),x(c,a(e.childNodes)),o||G(e)):c=U(l),F(c,t,n,r),B(c,t),i&&i.ref&&(c[ae].ref=i.ref)(c),c}function F(e,t,n,r){var o=t.children,i=e.firstChild;o&&1===o.length&&"string"==typeof o[0]&&i instanceof Text&&1===e.childNodes.length?i.nodeValue=o[0]:(o||i)&&W(e,o,n,r)}function $(e){var t=e._component;if(t)return t.__key;var n=e[ae];return n?n.key:void 0}function W(e,t,n,r){var o=e.childNodes,i=void 0,a=void 0,s=0,u=0,l=t&&t.length,f=o.length,p=0;if(f){i=[];for(var d=0;f>d;d++){var h=o[d],v=$(h);v||0===v?(a||(a={}),a[v]=h,s++):i[p++]=h}}if(l)for(var d=0;l>d;d++){var m=t[d],h=void 0;if(0!==s&&m.attributes){var v=m.key;!c(v)&&v in a&&(h=a[v],a[v]=void 0,s--)}if(!h&&p>u)for(var b=u;p>b;b++){var g=i[b];if(g&&N(g,m)){h=g,i[b]=void 0,b===p-1&&p--,b===u&&u++;break}}h=L(h,m,n,r);var _=(r||h.parentNode!==e)&&h._component;_&&y(_,"componentWillMount");var w=o[d];w!==h&&(w?e.insertBefore(h,w):e.appendChild(h)),_&&y(_,"componentDidMount")}if(s)for(var d in a)a[d]&&(i[u=p++]=a[d]);p>u&&V(i)}function V(e,t){for(var n=e.length;n--;){var r=e[n];r&&G(r,t)}}function G(e,t){var n=e[ae];n&&v(n,"ref",null);var r=e._component;if(r)X(r,!t);else{if(!t){if(1!==P(e))return void T(e);R(e)}var o=e.childNodes;o&&o.length&&V(o,t)}}function B(e,t){var n=e[ae]||j(e),r=t.attributes;for(var o in n)r&&o in r||S(e,o,null);if(r)for(var i in r){var a=r[i];void 0===a&&(a=null),i in n&&a==n[i]||S(e,i,a)}}function q(e){var t=e.constructor.name,n=ge[t];n?n.push(e):ge[t]=[e]}function H(e,t,n,r){var o=new e(t,n),i=!r&&ge[e.name];if(i)for(var a=0;i.length>a;a++)if(i[a].constructor===e){o.nextBase=i[a].base,i.splice(a,1);break}return o}function K(e){e._dirty||(e._dirty=!0,_(e))}function z(e,t,n,r,o){var i=e._disableRendering===!0;e._disableRendering=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,c(e.base)||v(e,"componentWillReceiveProps",t,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disableRendering=i,n!==te&&(n===ne||de.syncComponentUpdates!==!1?Y(e,ne,o):K(e)),v(e,"__ref",e)}function Y(e,t,o){if(!e._disableRendering){var i=void 0,a=void 0,u=e.props,c=e.state,l=e.context,f=e.prevProps||u,p=e.prevState||c,d=e.prevContext||l,h=e.base,m=h||e.nextBase;if(h&&(e.props=f,e.state=p,e.context=d,t!==re&&v(e,"shouldComponentUpdate",u,c,l)===!1?i=!0:v(e,"componentWillUpdate",u,c,l),e.props=u,e.state=c,e.context=l),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!i){for(a=v(e,"render",u,c,l),e.getChildContext&&(l=n(r(l),e.getChildContext()));C(a);)a=O(a,l);var b=a&&a.nodeName,g=void 0,_=void 0;if(s(b)&&b.prototype.render){var w=e._component;w&&w.constructor!==b&&(g=w,w=null);var E=D(a);w?z(w,E,ne,l):(w=H(b,E,l,!1),w._parentComponent=e,e._component=w,h&&y(w,"componentWillMount"),z(w,E,te,l),Y(w,ne),h&&y(w,"componentDidMount")),_=w.base}else{var P=m;g=e._component,g&&(P=e._component=null),(m||t===ne)&&(P&&(P._component=null),_=L(P,a||ie,l,o||!h,!0))}if(m&&_!==m){var x=m.parentNode;x&&_!==x&&x.replaceChild(_,m),g||G(m)}if(g&&X(g,!0),e.base=_,_){for(var T=e,S=e;S=S._parentComponent;)T=S;_._component=T,_._componentConstructor=T.constructor}h&&v(e,"componentDidUpdate",f,p,d)}var k=e._renderCallbacks,M=void 0;if(k)for(;M=k.pop();)M.call(e);return a}}function J(e,t,n,r){for(var o=e&&e._component,i=e,a=o&&e._componentConstructor===t.nodeName,s=a;o&&!s&&(o=o._parentComponent);)s=o.constructor===t.nodeName;return!s||r&&!o._component?(o&&!a&&(X(o,!0),e=i=null),e=Z(t,e,n,r),i&&e!==i&&(i._component=null,G(i))):(z(o,D(t),ne,n,r),e=o.base),e}function Z(e,t,n,r){var o=D(e),i=H(e.nodeName,o,n,!!t);return t&&(i.nextBase=t),z(i,o,ne,n,r),i.base}function X(e,t){v(e,"__ref",null),v(e,"componentWillUnmount");var n=e._component;n&&(X(n,t),t=!1);var r=e.base;r&&(t!==!1&&T(r),V(r.childNodes,!0)),t&&(e._parentComponent=null,q(e)),v(e,"componentDidUnmount")}function Q(e,t){this._dirty=!0,this._disableRendering=!1,this.prevState=this.prevProps=this.prevContext=this.base=this.nextBase=this._parentComponent=this._component=this.__ref=this.__key=this._linkedStates=this._renderCallbacks=null,this.context=t||{},this.props=e,this.state=v(this,"getInitialState")||{}}function ee(e,t,n){var r=n&&n._component&&n._componentConstructor===e.nodeName,o=L(n,e,{},!1),i=!r&&o._component;return i&&y(i,"componentWillMount"),o.parentNode!==t&&t.appendChild(o),i&&y(i,"componentDidMount"),o}var te=0,ne=1,re=2,oe={},ie="",ae="undefined"!=typeof Symbol?Symbol["for"]("preactattr"):"__preactattr_",se={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},ue=o(function(e){return ce(e.replace(/([A-Z])/g,"-$1"))}),ce=o(function(e){return e.toLowerCase()}),le=void 0;try{le=new MessageChannel}catch(fe){}var pe=le?function(e){le.port1.onmessage=e,le.port2.postMessage(ie)}:setTimeout,de={vnode:function(e){var t=e.attributes;if(t&&!s(e.nodeName)){var n=t.className;n&&(t["class"]=n,delete t.className),t["class"]&&d(t,"class",p),t.style&&d(t,"style",f)}}},he=[],ve=[],ye=[],me=o(function(e){return ce(e.replace(/^on/i,""))}),be={},ge={};n(Q.prototype,{linkState:function(e,t){var n=this._linkedStates||(this._linkedStates={}),r=e+"|"+t;return n[r]||(n[r]=g(this,e,t))},setState:function(e,t){var o=this.state;this.prevState||(this.prevState=r(o)),n(o,s(e)?e(o,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),K(this)},forceUpdate:function(){Y(this,re)},render:function(){return null}}),e.h=m,e.cloneElement=b,e.Component=Q,e.render=ee,e.rerender=w,e.options=de})},function(e,t,n){!function(e,r){r(t,n(56),n(55),n(1))}(this,function(e,t,n,r){"use strict";function o(e,t,n){var o=t._preactCompatRendered;o&&o.parentNode!==t&&(o=null);var i=r.render(e,t,o);return t._preactCompatRendered=i,"function"==typeof n&&n(),i&&i._component}function i(e){var t=e._preactCompatRendered;return t&&t.parentNode===e?(r.render(r.h(S),e,t),!0):!1}function a(e){return function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];return s.apply(void 0,[e].concat(n))}}function s(){var e=r.h.apply(void 0,arguments);"svg"===e.nodeName&&(e.nodeName=n),f(e);var t=e.attributes&&e.attributes.ref;return N&&t&&"string"==typeof t&&(e.attributes.ref=l(t,N)),e}function u(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;n>o;o++)r[o-2]=arguments[o];return s.apply(void 0,[e.nodeName||e.type,p({},e.attributes||e.props||{},t)].concat(r))}function c(e){return e&&(e instanceof k||e.$$typeof===E)}function l(e,t){return t._refProxies[e]||(t._refProxies[e]=function(n){t&&t.refs&&(t.refs[e]=n,null===n&&(delete t._refProxies[e],t=null))})}function f(e){var t=e.attributes;if(t){var n=t.className||t["class"];n&&(t.className=n)}}function p(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];for(var o=0;n.length>o;o++)for(var i in n[o])if(n[o].hasOwnProperty(i)){var a=n[o][i];null!==a&&void 0!==a&&(e[i]=a)}return e}function d(){}function h(e){var t=function(t,n){p(this,e),U.call(this,t,n,x),v(this),b.call(this,t,n)};return e.propTypes&&(t.propTypes=e.propTypes),e.defaultProps&&(t.defaultProps=e.defaultProps),e.getDefaultProps&&(t.defaultProps=e.getDefaultProps()),d.prototype=U.prototype,t.prototype=new d,t.prototype.constructor=t,t.displayName=e.displayName||"Component",t}function v(e){for(var t in e){var n=e[t];"function"!=typeof n||n.__bound||P.hasOwnProperty(t)||((e[t]=n.bind(e)).__bound=!0)}}function y(e,t,n){return"string"==typeof t&&(t=e.constructor.prototype[t]),"function"==typeof t?t.apply(e,n):void 0}function m(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(){for(var e=void 0,n=arguments.length,r=Array(n),o=0;n>o;o++)r[o]=arguments[o];for(var i=0;t.length>i;i++){var a=y(this,t[i],r);void 0!==a&&(e=a)}return e}}function b(e,t){g.call(this,e,t),this.componentWillReceiveProps=m(this.componentWillReceiveProps||"componentWillReceiveProps",g),this.render=m(_,this.render||"render",w)}function g(e){if(e){var t=e.children;if(t&&1===t.length&&(e.children=t[0],e.children&&"object"==typeof e.children&&(e.children.length=1,e.children[0]=e.children)),T){var n=this.propTypes||this.constructor.propTypes;if(n)for(var r in n)if(n.hasOwnProperty(r)&&"function"==typeof n[r]){var o=n[r](e,r,this.constructor.name,"prop");if(o)throw o}}}}function _(){N=this}function w(){N===this&&(N=null)}t="default"in t?t["default"]:t,n="default"in n?n["default"]:n;var C={};C.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},C.createClass=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},C.possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};var O="a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn dialog div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param picture pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr circle clipPath defs ellipse g image line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan".split(" "),E="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,P={constructor:1,render:1,shouldComponentUpdate:1,componentWillRecieveProps:1,componentWillUpdate:1,componentDidUpdate:1,componentWillMount:1,componentDidMount:1,componentWillUnmount:1,componentDidUnmount:1},x={},T="undefined"!=typeof process&&process.env&&!1,S=function(){return null},k=r.h("").constructor;k.prototype.$$typeof=E,Object.defineProperty(k.prototype,"type",{get:function(){return this.nodeName},set:function(e){this.nodeName=e}}),Object.defineProperty(k.prototype,"props",{get:function(){return this.attributes},set:function(e){this.attributes=e}});for(var M=[],j={map:function(e,t,n){return e=j.toArray(e),n&&n!==e&&(t=t.bind(n)),e.map(t)},forEach:function(e,t,n){e=j.toArray(e),n&&n!==e&&(t=t.bind(n)),e.forEach(t)},count:function(e){return e=j.toArray(e),e.length},only:function(e){if(e=j.toArray(e),1!==e.length)throw Error("Children.only() expects only one child.");return e[0]},toArray:function(e){return Array.isArray&&Array.isArray(e)?e:M.concat(e)}},N=void 0,A={},D=O.length;D--;)A[O[D]]=a(O[D]);var R=function(e){return e.base||e},U=function(e){function t(e,n,r){C.classCallCheck(this,t);var o=C.possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e,n));return o.refs={},o._refProxies={},r!==x&&b.call(o,e,n),o}return C.inherits(t,e),C.createClass(t,[{key:"getDOMNode",value:function(){return this.base}},{key:"isMounted",value:function(){return!!this.base}}]),t}(r.Component),I={DOM:A,PropTypes:t,Children:j,render:o,createClass:h,createFactory:a,createElement:s,cloneElement:u,isValidElement:c,findDOMNode:R,unmountComponentAtNode:i,Component:U};e.DOM=A,e.PropTypes=t,e.Children=j,e.render=o,e.createClass=h,e.createFactory=a,e.createElement=s,e.cloneElement=u,e.isValidElement=c,e.findDOMNode=R,e.unmountComponentAtNode=i,e.Component=U,e["default"]=I})},function(e,t,n){!function(t,r){e.exports=r(n(1))}(this,function(e){"use strict";function t(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h,o=/(?:\?([^#]*))?(#.*)?$/,i=e.match(o),a={},s=void 0;if(i&&i[1])for(var u=i[1].split("&"),c=0;u.length>c;c++){var l=u[c].split("=");a[decodeURIComponent(l[0])]=decodeURIComponent(l.slice(1).join("="))}e=r(e.replace(o,"")),t=r(t||"");for(var f=Math.max(e.length,t.length),p=0;f>p;p++)if(t[p]&&":"===t[p].charAt(0)){var d=t[p].replace(/(^\:|[+*?]+$)/g,""),v=(t[p].match(/[+*?]+$/)||h)[0]||"",y=~v.indexOf("+"),m=~v.indexOf("*"),b=e[p]||"";if(!b&&!m&&(v.indexOf("?")<0||y)){s=!1;break}if(a[d]=decodeURIComponent(b),y||m){a[d]=e.slice(p).map(decodeURIComponent).join("/");break}}else if(t[p]!==e[p]){s=!1;break}return n["default"]!==!0&&s===!1?!1:a}function n(e,t){var n=e.attributes||h,r=t.attributes||h;if(n["default"])return 1;if(r["default"])return-1;var i=o(n.path)-o(r.path);return i||n.path.length-r.path.length}function r(e){return i(e).split("/")}function o(e){return(i(e).match(/\/+/g)||"").length}function i(e){return e.replace(/(^\/+|\/+$)/g,"")}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!1;return"string"!=typeof e&&e.url&&(t=e.replace,e=e.url),"undefined"!=typeof history&&history.pushState&&(t===!0?history.replaceState(null,null,e):history.pushState(null,null,e)),s(e)}function s(e){var t=!1;return v.forEach(function(n){n.routeTo(e)===!0&&(t=!0)}),t}function u(){var e="undefined"!=typeof location?location:y;return""+(e.pathname||"")+(e.search||"")}function c(e){if(e&&e.getAttribute){var t=e.getAttribute("href"),n=e.getAttribute("target");if(t&&t.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return a(t)}}function l(e){return c(e.currentTarget||e.target||this),f(e)}function f(e){return e&&(e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault()),!1}function p(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey)){var t=e.target;do if("A"===(t.nodeName+"").toUpperCase()&&t.getAttribute("href")&&c(t))return f(e);while(t=t.parentNode)}}var d={};d.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},d["extends"]=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},d.objectWithoutProperties=function(e,t){var n={};for(var r in e)t.indexOf(r)<0&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},d.possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};var h={},v=[],y={};"function"==typeof addEventListener&&(addEventListener("popstate",function(){return s(u())}),addEventListener("click",p));var m=function(t){var n=t.children,r=d.objectWithoutProperties(t,["children"]);return e.h("a",d["extends"]({},r,{onClick:l}),n)},b=function(e){function r(){var t,n,o;d.classCallCheck(this,r);for(var i=arguments.length,a=Array(i),s=0;i>s;s++)a[s]=arguments[s];return t=n=d.possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),n.state={url:n.props.url||u()},o=t,d.possibleConstructorReturn(n,o)}return d.inherits(r,e),r.prototype.shouldComponentUpdate=function(e){return e["static"]!==!0?!0:e.url!==this.props.url||e.onChange!==this.props.onChange},r.prototype.routeTo=function(e){return this._didRoute=!1,this.setState({url:e}),this.forceUpdate(),this._didRoute},r.prototype.componentWillMount=function(){v.push(this)},r.prototype.componentWillUnmount=function(){v.splice(v.indexOf(this),1)},r.prototype.render=function(e,r){var o=e.children,i=e.onChange,a=r.url,s=o.slice().sort(n).filter(function(e){var n=e.attributes,r=n.path,o=t(a,r,n);if(o){n.url=a,n.matches=o;for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i]);return!0}}),u=s[0]||null;this._didRoute=!!u;var c=this.previousUrl;return a!==c&&(this.previousUrl=a,"function"==typeof i&&i({router:this,url:a,previous:c,active:s,current:u})),u},r}(e.Component),g=function(t){var n=t.component,r=t.url,o=t.matches;return e.h(n,{url:r,matches:o})};return b.route=a,b.Router=b,b.Route=g,b.Link=m,b})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.unboundActions=t.events=t.actions=t.store=t.connect=void 0;var o=n(47),i=r(o),a=n(13),s=r(a),u=n(18),c=r(u),l=n(10);t.connect=i["default"],t.store=s["default"],t.actions=l.actions,t.events=c["default"],t.unboundActions=l.unboundActions},function(e,t,n){var r,o;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var e=[],t=0;arguments.length>t;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===o)for(var a in r)i.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}var i={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:(r=[],o=function(){return n}.apply(t,r),!(void 0!==o&&(e.exports=o)))}()},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;10>n;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(i){return!1}}var o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,a,s=n(e),u=1;arguments.length>u;u++){r=Object(arguments[u]);for(var c in r)o.call(r,c)&&(s[c]=r[c]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(r);for(var l=0;a.length>l;l++)i.call(r,a[l])&&(s[a[l]]=r[a[l]])}}return s}},function(e,t){"use strict";t.__esModule=!0,t.SOCKET_URL="wss://ws.onfido.com:9876",t.SOCKET_URL_DEV="wss://document-check-staging.onfido.co.uk:9876",t.XHR_URL="https://api.onfido.com",t.DOCUMENT_CAPTURE="DOCUMENT_CAPTURE",t.FACE_CAPTURE="FACE_CAPTURE",t.SET_TOKEN="SET_TOKEN",t.SET_AUTHENTICATED="SET_AUTHENTICATED",t.SET_WEBSOCKET_SUPPORT="SET_WEBSOCKET_SUPPORT",t.SET_GUM_SUPPORT="SET_GUM_SUPPORT",t.SET_DOCUMENT_CAPTURED="SET_DOCUMENT_CAPTURED",t.SET_FACE_CAPTURED="SET_FACE_CAPTURED",t.SET_DOCUMENT_TYPE="SET_DOCUMENT_TYPE",t.CAPTURE_IS_VALID="CAPTURE_IS_VALID"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var o=n(23),i=r(o),a=n(67),s=r(a),u=n(66),c=r(u),l=n(65),f=r(l),p=n(22),d=r(p),h=n(24);r(h),t.createStore=i["default"],t.combineReducers=s["default"],t.bindActionCreators=c["default"],t.applyMiddleware=f["default"],t.compose=d["default"]},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1),n(3)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){var t=2>e.step||!e.step;return(0,n.h)("div",{className:"onfido-actions onfido-actions--top"},!t&&(0,n.h)(r.Link,{href:e.prevLink,className:"onfido-btn-nav"},(0,n.h)("span",null,"← Back"))||(0,n.h)("span",null),(0,n.h)("a",{rel:"modal:close",className:"onfido-btn-nav onfido-btn-nav--right"},"× Close"))};t["default"]=o,e.exports=t["default"]})},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.actions=t.unboundActions=void 0;var i=n(8),a=n(6),s=o(a),u=n(13),c=o(u),l=n(50),f=r(l),p=n(49),d=r(p),h=t.unboundActions=(0,s["default"])({},f,d);t.actions=(0,i.bindActionCreators)(h,c["default"].dispatch)},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1),n(3)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(e){var t=e.captures,r=function(e){return e.isValid},o=t.filter(r),i=o[0];return(0,n.h)("div",{className:"onfido-captures"},(0,n.h)("img",{src:i.image,className:"onfido-image"}))},c=function(e){var t="/step/"+(parseInt(e.step,10)+1||1)+"/";return(0,n.h)("div",{className:"onfido-previews onfido-step"},(0,n.h)("h1",{className:"onfido-title"},"Confirm capture"),(0,n.h)("p",null,"Please confirm that you are happy with this photo."),(0,n.h)(u,{captures:e.captures}),(0,n.h)("div",{className:"onfido-actions"},(0,n.h)("button",{onClick:function(){return e.action(!1)},className:"onfido-btn onfido-btn-outline"},"Take again"),(0,n.h)(r.Link,{href:t,className:"onfido-btn onfido-btn-primary"},"Confirm")))},l=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e=this,t=this.props,r=t.method,o=t.actions,i=t.documentCaptures,a=t.faceCaptures,u=o.setDocumentCaptured,l=o.setFaceCaptured,f={document:function(){return(0,n.h)(c,s({captures:i,action:u},e.props))},face:function(){return(0,n.h)(c,s({captures:a,action:l},e.props))},other:function(){return null}};return(f[r]||f.other)()},t}(n.Component);t["default"]=l,e.exports=t["default"]})},function(e,t,n){function r(e){if(!a(e)||p.call(e)!=s||i(e))return!1;var t=o(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}var o=n(44),i=n(45),a=n(46),s="[object Object]",u=Object.prototype,c=Function.prototype.toString,l=u.hasOwnProperty,f=c.call(Object),p=u.toString;e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(8),i=n(53),a=r(i),s=(0,o.createStore)(a["default"],window.devToolsExtension?window.devToolsExtension():void 0);t["default"]=s},function(e,t,n){var r,o,i;!function(a,s){o=[t,n(1)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentInstructions=e.DocumentNotFound=void 0,e.DocumentNotFound=function(){return(0,t.h)("div",{className:"onfido-upload-text onfido-upload-error"},"We couldn’t detect a passport or identity card in this image. Please upload another one.")},e.DocumentInstructions=function(){return(0,t.h)("div",{className:"onfido-capture-ui"},(0,t.h)("p",{className:"onfido-center"},"Hold your document up to the camera. It will be detected automatically."))}})},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1),n(58),n(4),n(38),n(17),n(16),n(14),n(34),n(11)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r,o,i,a,s,u,c,l){"use strict";function f(e){return e&&e.__esModule?e:{"default":e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var v=f(r),y=f(i),m=f(a),b=f(c),g=f(l),_=function(){return(0,n.h)("div",{className:"onfido-upload"},(0,n.h)("span",{className:"onfido-icon onfido-icon--upload"}),(0,n.h)("p",{className:"onfido-upload-text"},"Take a photo with your camera or upload one from your library."))},w=function(){return(0,n.h)("div",{className:"onfido-center"},(0,n.h)(b["default"],null),(0,n.h)("div",{className:"onfido-processing"},"Processing your document"))},C=function(e){function t(){var r,i,a;p(this,t);for(var s=arguments.length,c=Array(s),l=0;s>l;l++)c[l]=arguments[l];return r=i=d(this,e.call.apply(e,[this].concat(c))),i.handleUpload=function(e){var t=i.props,n=t.method,r=t.handleImage,a=t.setUploadState;a(!0);var s={maxWidth:960,maxHeight:960,canvas:!0},u=e[0];(0,y["default"])(u.preview,function(e){o.events.emit("imageLoaded",e)},s),o.events.once("imageLoaded",function(e){var t=e.toDataURL("image/webp"),o={id:(0,m["default"])(),messageType:n,image:t};return r(n,o)})},i.renderUploader=function(e){return e?(0,n.h)(g["default"],i.props):i.renderDropzone()},i.renderDropzone=function(){var e=i.props,t=e.uploading,r=e.noDocument;return(0,n.h)(v["default"],{onDrop:i.handleUpload,multiple:!1,className:"onfido-dropzone"},t&&(0,n.h)(w,null)||(0,n.h)(_,null),!t&&r&&(0,n.h)(u.DocumentNotFound,null))},a=r,d(i,a)}return h(t,e),t.prototype.componentDidMount=function(){this.canvas=document.createElement("canvas")},t.prototype.render=function(){var e=this,t=this.props,n=t.hasDocumentCaptured,r=t.hasFaceCaptured,o=t.method,i={document:function(){return e.renderUploader(n)},face:function(){return e.renderUploader(r)},home:function(){return null}};return(i[o]||i.home)()},t}(n.Component);t["default"]=C,e.exports=t["default"]})},function(e,t,n){var r,o,i;!function(n,a){o=[t],r=a,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createBase64=function(e,t,n,r){if(t&&n){var o=n.ratio,i=e.getContext("2d"),a=960,s=960/o;e.width=a,e.height=s,i.drawImage(t,0,0,a,s);var u=e.toDataURL("image/webp");r(u)}}})},function(e,t,n){var r,o,i;!function(n,a){o=[e,t],r=a,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return Math.random().toString(36).substring(7)};t["default"]=n,e.exports=t["default"]})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=c["default"].getState(),t=e.documentCaptures,n=e.faceCaptures,r={documentCaptures:t[0]||null,faceCaptures:n[0]||null};f(e)&&l.emit("ready"),p(e)&&l.emit("documentCapture",r),d(e)&&l.emit("faceCapture",r),p(e)&&d(e)&&l.emit("complete",r)}t.__esModule=!0;var i=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(40),s=r(a),u=n(13),c=r(u),l=(n(10),new s["default"]);c["default"].subscribe(o);var f=function(e){return e.globals.authenticated},p=function(e){return e.globals.hasDocumentCaptured},d=function(e){return e.globals.hasFaceCaptured};l.getCaptures=function(){var e=c["default"].getState(),t=e.documentCaptures,n=e.faceCaptures,r=function(e){return e.isValid},o=t.filter(r),a=i(o,1),s=a[0],u=n.filter(r),l=i(u,1),f=l[0],p={documentCapture:s||null,faceCapture:f||null};return p},t["default"]=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.connect=t.Provider=void 0;var o=n(59),i=r(o),a=n(60),s=r(a);t.Provider=i["default"],t.connect=s["default"]},function(e,t,n){"use strict";t.__esModule=!0;var r=n(2);t["default"]=r.PropTypes.shape({subscribe:r.PropTypes.func.isRequired,dispatch:r.PropTypes.func.isRequired,getState:r.PropTypes.func.isRequired})},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw Error(e)}catch(t){}}t.__esModule=!0,t["default"]=n},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};var r=function(){var e=t[t.length-1],n=t.slice(0,-1);return{v:function(){return n.reduceRight(function(e,t){return t(e)},e.apply(void 0,arguments))}}}();return"object"==typeof r?r.v:void 0}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){function r(){m===y&&(m=y.slice())}function i(){return v}function s(e){if("function"!=typeof e)throw Error("Expected listener to be a function.");var t=!0;return r(),m.push(e),function(){if(t){t=!1,r();var n=m.indexOf(e);m.splice(n,1)}}}function l(e){if(!(0,a["default"])(e))throw Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(b)throw Error("Reducers may not dispatch actions.");try{b=!0,v=h(v,e)}finally{b=!1}for(var t=y=m,n=0;t.length>n;n++)t[n]();return e}function f(e){if("function"!=typeof e)throw Error("Expected the nextReducer to be a function.");h=e,l({type:c.INIT})}function p(){var e,t=s;return e={subscribe:function(e){function n(){e.next&&e.next(i())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");n();var r=t(n);return{unsubscribe:r}}},e[u["default"]]=function(){return this},e}var d;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw Error("Expected the enhancer to be a function.");return n(o)(e,t)}if("function"!=typeof e)throw Error("Expected the reducer to be a function.");var h=e,v=t,y=[],m=y,b=!1;return l({type:c.INIT}),d={dispatch:l,subscribe:s,getState:i,replaceReducer:f},d[u["default"]]=p,d}t.__esModule=!0,t.ActionTypes=void 0,t["default"]=o;var i=n(12),a=r(i),s=n(69),u=r(s),c=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw Error(e)}catch(t){}}t.__esModule=!0,t["default"]=n},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1),n(3),n(63),n(39),n(5),n(4),n(17),n(16),n(14),n(31),n(15),n(28)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r,o,i,a,s,u,c,l,f,p,d){"use strict";function h(e){return e&&e.__esModule?e:{"default":e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var b=h(o),g=h(i),_=(h(a),h(u)),w=h(d),C=function(e){function t(){var r,o,i;v(this,t);for(var a=arguments.length,s=Array(a),u=0;a>u;u++)s[u]=arguments[u];return r=o=y(this,e.call.apply(e,[this].concat(s))),o.capture={start:function(){return o.interval=setInterval(function(){return o.screenshot()},1e3)},stop:function(){return clearInterval(o.interval)},once:function(){var e={useEasing:!1,useGrouping:!1},t=new g["default"](o.countdown,3,0,0,3,e);t.start(function(){return o.screenshot()})}},o.screenshot=function(){var e=o.props,t=e.method,n=e.handleImage,r=o.webcam.getScreenshot(),i={id:(0,_["default"])(),messageType:t,image:r};n(t,i)},o.renderInstructions=function(e){var t={document:function(){return(0,n.h)(l.DocumentInstructions,null)},face:function(){return(0,n.h)("div",null,(0,n.h)(w["default"],{ref:function(e){o.countdown=e}}),(0,n.h)(f.FaceInstructions,{handeClick:o.capture.once}))},home:function(){return null}};return(t[e]||t.home)()},i=r,y(o,i)}return m(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.autoCapture;t&&this.capture.start(),s.events.on("onBeforeClose",function(){clearInterval(e.interval),(0,r.route)("/",!0)})},t.prototype.componentWillUnmount=function(){clearInterval(this.interval)},t.prototype.render=function(){var e=this,t=this.props.method;return(0,n.h)("div",null,this.renderInstructions(t),(0,n.h)(b["default"],{className:"onfido-video",ref:function(t){e.webcam=t},audio:!1}))},t}(n.Component);t["default"]=C,e.exports=t["default"]})},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1),n(4),n(5),n(37),n(15),n(25),n(9),n(11)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r,o,i,a,s,u,c){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var h=l(o),v=l(i),y=l(a),m=l(s),b=l(u),g=l(c),_=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w=function(e){function t(){var r,o,i;f(this,t);for(var a=arguments.length,s=Array(a),u=0;a>u;u++)s[u]=arguments[u];return r=o=p(this,e.call.apply(e,[this].concat(s))),o.state={noDocument:!1,uploading:!1},o.isUploadValid=function(e,t){o.setState({uploading:e,noDocument:t})},o.setUploadState=function(e){o.setState({uploading:e})},o.handleMessages=function(e){var t=o.props.actions;e.is_document?(t.captureIsValid(e.id),t.setDocumentCaptured(!0),o.isUploadValid(!1,!1)):o.isUploadValid(!1,!0)},o.handleImage=function(e,t){var n=o.props,r=n.actions,i=n.socket,a=n.documentType,s={document:function(e){e.isValid=!1,e.documentType=a,i.sendMessage(JSON.stringify(e)),r.documentCapture(e)},face:function(e){e.isValid=!0,r.faceCapture(e),r.setFaceCaptured(!0)},home:function(){return null}};return(s[e]||s.home)(t)},o.renderCapture=function(e){var t={handleMessages:o.handleMessages,handleImage:o.handleImage,setUploadState:o.setUploadState};return e?(0,n.h)(m["default"],_({},o.props,t,o.state)):(0,n.h)(y["default"],_({},o.props,t,o.state))},i=r,p(o,i)}return d(t,e),t.prototype.componentDidMount=function(){var e=this;r.events.on("onMessage",function(t){return e.handleMessages(t)})},t.prototype.render=function(){var e=this.props,t=e.supportsGetUserMedia,r=e.method,o=t&&v["default"],i={document:this.props.hasDocumentCaptured,face:this.props.hasFaceCaptured},a=(0,h["default"])({"onfido-camera":o&&!i[r],"onfido-uploader":!o&&!i[r]});return(0,n.h)("div",{id:"onfido-camera",className:a},(0,n.h)(b["default"],this.props),i[r]&&(0,n.h)(g["default"],this.props)||this.renderCapture(o))},t}(n.Component);t["default"]=w,e.exports=t["default"]})},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1),n(9)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(r),a=function(e){return(0,n.h)("div",null,(0,n.h)(i["default"],e),(0,n.h)("div",{className:"onfido-step"},(0,n.h)("h1",{className:"onfido-title onfido-center"},"Complete"),(0,n.h)("span",{className:"onfido-icon onfido-icon--complete"}),(0,n.h)("p",{className:"onfido-center"},"Everything is complete, thank you.",(0,n.h)("br",null),"You can now close this window.")))};t["default"]=a,e.exports=t["default"]})},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return(0,n.h)("span",{className:"onfido-countdown"})};t["default"]=r,e.exports=t["default"]})},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1),n(3),n(30)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var c=i(o),l=[{value:"passport",label:"Passport",icon:"icon-passport"},{value:"identity",label:"Identity Card",icon:"icon-identity"},{value:"license",label:"Drivers License",icon:"icon-license"}],f=function(e){function t(){var n,o,i;a(this,t);for(var u=arguments.length,c=Array(u),l=0;u>l;l++)c[l]=arguments[l];return n=o=s(this,e.call.apply(e,[this].concat(c))),o.handleChange=function(e){var t=o.props,n=t.setDocumentType,i=t.nextLink;n(e.value),(0,r.route)(i,!0)},i=n,s(o,i)}return u(t,e),t.prototype.render=function(){return(0,n.h)(c["default"],{options:l,onChange:this.handleChange,placeholder:"Select document type"})},t}(n.Component);t["default"]=f,e.exports=t["default"]})},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1),n(2),n(5)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=i(r),l=i(o),f=function(e){function t(n){a(this,t);var r=s(this,e.call(this,n));return r.state={selected:n.value||{label:n.placeholder||"Select...",value:""},isOpen:!1},r.mounted=!0,r.handleDocumentClick=r.handleDocumentClick.bind(r),r.fireChangeEvent=r.fireChangeEvent.bind(r),r}return u(t,e),t.prototype.componentWillReceiveProps=function(e){e.value&&e.value!==this.state.selected&&this.setState({selected:e.value})},t.prototype.componentDidMount=function(){document.addEventListener("click",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,!1)},t.prototype.componentWillUnmount=function(){this.mounted=!1,document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,!1)},t.prototype.handleMouseDown=function(e){"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this.setState({isOpen:!this.state.isOpen}))},t.prototype.setValue=function(e,t){var n={selected:{value:e,label:t},isOpen:!1};this.fireChangeEvent(n),this.setState(n)},t.prototype.fireChangeEvent=function(e){e.selected!==this.state.selected&&this.props.onChange&&this.props.onChange(e.selected)},t.prototype.renderOption=function(e){var t,r=(0,l["default"])((t={},t[this.props.baseClassName+"-option"]=!0,t["is-selected"]=e===this.state.selected,t)),o=e.value||e.label||e,i=e.label||e.value||e;return(0,n.h)("div",{key:o,className:r,onMouseDown:this.setValue.bind(this,o,i),onClick:this.setValue.bind(this,o,i)},i)},t.prototype.buildMenu=function(){var e=this,t=this.props,r=t.options,o=t.baseClassName,i=r.map(function(t){if("group"===t.type){var r=(0,n.h)("div",{className:o+"-title"},t.name),i=t.items.map(function(t){return e.renderOption(t)});return(0,n.h)("div",{className:o+"-group",key:t.name},r,i)}return e.renderOption(t)});return i.length?i:(0,n.h)("div",{className:o+"-noresults"},"No options found")},t.prototype.handleDocumentClick=function(e){this.mounted&&(c["default"].findDOMNode(this).contains(e.target)||this.setState({isOpen:!1}))},t.prototype.render=function(){var e,t=this.props.baseClassName,r="string"==typeof this.state.selected?this.state.selected:this.state.selected.label,o=(0,n.h)("div",{className:t+"-placeholder"},r),i=this.state.isOpen?(0,n.h)("div",{className:t+"-menu"},this.buildMenu()):null,a=(0,l["default"])((e={},e[t+"-root"]=!0,e["is-open"]=this.state.isOpen,e));return(0,n.h)("div",{className:a},(0,n.h)("div",{className:t+"-control",onMouseDown:this.handleMouseDown.bind(this),onTouchEnd:this.handleMouseDown.bind(this)},o,(0,n.h)("span",{className:t+"-arrow"})),i)},t}(n.Component);f.defaultProps={baseClassName:"Dropdown"},t["default"]=f,e.exports=t["default"]})},function(e,t,n){var r,o,i;!function(a,s){o=[t,n(1)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FaceInstructions=void 0,e.FaceInstructions=function(e){var n=e.handeClick;return(0,t.h)("div",{className:"onfido-face-overlay"},(0,t.h)("span",{className:"onfido-face-circle"}),(0,t.h)("div",{className:"onfido-capture-ui"},(0,t.h)("p",null,"We need to take a capture of your face to match with your document"),(0,t.h)("button",{id:"onfido-capture",className:"onfido-btn onfido-btn-primary onfido-btn-capture",onClick:n},"Take photo")))}})},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(71),n(4)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(n),a={};a.template="\n  <div class='onfido-modal-inner'>\n    <div class='onfido-modal-content'></div>\n  </div>\n",a.create=function(e){var t=document.createElement("div");t.className="onfido-modal",t.innerHTML=a.template,e.mount.parentNode.insertBefore(t,e.mount.nextSibling),r.events.emit("modalMounted",e)},a.options={modal:".onfido-modal",modalInner:".onfido-modal-inner",modalContent:".onfido-modal-content",onOpen:function(){return r.events.emit("onOpen")},onClose:function(){return r.events.emit("onClose")},onBeforeOpen:function(){return r.events.emit("onBeforeOpen")},onBeforeClose:function(){return r.events.emit("onBeforeClose")}},r.events.on("modalMounted",function(e){var t=new i["default"](a.options),n=document.getElementById(e.buttonId),o="#"+e.mount.getAttribute("id");n.addEventListener("click",function(){return t.open(o)}),r.events.on("onOpen",function(){return e.mount.style.display="block"}),r.events.on("onClose",function(){return e.mount.style.display="none"}),r.events.on("closeModal",function(){return t.close()}),r.events.once("ready",function(){return n.disabled=!1})}),t["default"]=a,e.exports=t["default"]})},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1),n(5),n(9),n(29)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r,o,i){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l=a(r),f=a(o),p=a(i),d=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(e){function t(){var r,o,i;s(this,t);for(var a=arguments.length,c=Array(a),f=0;a>f;f++)c[f]=arguments[f];return r=o=u(this,e.call.apply(e,[this].concat(c))),o.renderMethod=function(e){var t,r,i=o.props,a=i.hasDocumentCaptured,s=e.view,u=e.complete,c=e.renderDropdown,f=e.hint,h=o.props.actions.setDocumentType,v=(0,l["default"])((t={},t["onfido-method onfido-method--"+s]=!0,t["onfido-disabled"]=!a,t)),y=(0,l["default"])((r={"onfido-icon":!0,"onfido-icon--complete":u},r["onfido-icon--"+s]=!u,r));return(0,n.h)("div",{className:"onfido-methods onfido-step"},(0,n.h)("h1",{className:"onfido-title"},"Choose document type"),(0,n.h)("div",{className:v},(0,n.h)("span",{className:y}),c&&(0,n.h)(p["default"],d({setDocumentType:h},o.props)),(0,n.h)("p",{className:"onfido-instructions"},f)))},i=r,u(o,i)}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.hasDocumentCaptured,r={view:"document",hint:"Take a capture of your passport or national identity card, which will be used to verify your identity.",title:"Document capture",complete:t,renderDropdown:!0};return(0,n.h)("div",{className:"onfido-wrapper"},(0,n.h)(f["default"],this.props),this.renderMethod(r))},t}(n.Component);t["default"]=h,e.exports=t["default"]})},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return(0,n.h)("div",{className:"loader"},(0,n.h)("div",{className:"loader-inner ball-scale-ripple-multiple"},(0,n.h)("div",null),(0,n.h)("div",null),(0,n.h)("div",null)))};t["default"]=r,e.exports=t["default"]})},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1),n(3),n(9)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r,o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(o),s=function(e){return(0,n.h)("div",null,(0,n.h)(a["default"],e),(0,n.h)("div",{className:"onfido-step"},(0,n.h)("h1",{className:"onfido-title"},"Verify your identity"),(0,n.h)("p",null,"To open a bank account we will need to verify your identity. Please have your Passport, Identity Card or Drivers License ready."),(0,n.h)(r.Link,{href:e.nextLink,className:"onfido-btn onfido-btn-primary"},"Let’s go")))};t["default"]=s,e.exports=t["default"]})},function(e,t,n){var r,o,i;!function(a,s){o=[e,t,n(1),n(3),n(5),n(8),n(19),n(4),n(35),n(33),n(26),n(11),n(27),n(41)],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t,n,r,o,i,a,s,u,c,l,f,p,d){"use strict";function h(e){return e&&e.__esModule?e:{"default":e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function b(e){return E({documentCaptures:e.documentCaptures,faceCaptures:e.faceCaptures
},e.globals)}function g(e){return{actions:(0,i.bindActionCreators)(s.unboundActions,e)}}Object.defineProperty(t,"__esModule",{value:!0});var _=(h(o),h(u)),w=h(c),C=h(l),O=(h(f),h(p)),E=(h(d),Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),P=function(e){function t(){return v(this,t),y(this,e.apply(this,arguments))}return m(t,e),t.prototype.componentWillMount=function(){var e=this.props.options.token;this.socket=(0,s.connect)(e)},t.prototype.render=function(){var e=this.props.step,t=E({prevLink:"/step/"+(parseInt(e,10)-1||1)+"/",nextLink:"/step/"+(parseInt(e,10)+1||1)+"/"},this.props),r=[(0,n.h)(_["default"],t),(0,n.h)(w["default"],E({method:"document"},t)),(0,n.h)(C["default"],E({method:"document"},t,{autoCapture:!0,socket:this.socket})),(0,n.h)(C["default"],E({method:"face"},t,{autoCapture:!1,socket:this.socket})),(0,n.h)(O["default"],t)],o=r[0];return(0,n.h)("div",null,e&&r[e]||o)},t}(n.Component);t["default"]=(0,a.connect)(b,g)(P),e.exports=t["default"]})},function(e,t,n){var r,o,i;!function(n,a){o=[e,t],r=a,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=window.matchMedia("(min-width: 800px)").matches;t["default"]=n,e.exports=t["default"]})},function(e,t,n){var r;!function(o){"use strict";var i=function(e,t,n){var r,o,a=document.createElement("img");if(a.onerror=t,a.onload=function(){!o||n&&n.noRevoke||i.revokeObjectURL(o),t&&t(i.scale(a,n))},i.isInstanceOf("Blob",e)||i.isInstanceOf("File",e))r=o=i.createObjectURL(e),a._type=e.type;else{if("string"!=typeof e)return!1;r=e,n&&n.crossOrigin&&(a.crossOrigin=n.crossOrigin)}return r?(a.src=r,a):i.readFile(e,function(e){var n=e.target;n&&n.result?a.src=n.result:t&&t(e)})},a=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;i.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},i.transformCoordinates=function(){},i.getTransformedOptions=function(e,t){var n,r,o,i,a=t.aspectRatio;if(!a)return t;n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n.crop=!0,o=e.naturalWidth||e.width,i=e.naturalHeight||e.height,o/i>a?(n.maxWidth=i*a,n.maxHeight=i):(n.maxWidth=o,n.maxHeight=o/a),n},i.renderImageToCanvas=function(e,t,n,r,o,i,a,s,u,c){return e.getContext("2d").drawImage(t,n,r,o,i,a,s,u,c),e},i.hasCanvasOption=function(e){return e.canvas||e.crop||!!e.aspectRatio},i.scale=function(e,t){function n(){var e=Math.max((s||_)/_,(u||w)/w);e>1&&(_*=e,w*=e)}function r(){var e=Math.min((o||_)/_,(a||w)/w);1>e&&(_*=e,w*=e)}t=t||{};var o,a,s,u,c,l,f,p,d,h,v,y=document.createElement("canvas"),m=e.getContext||i.hasCanvasOption(t)&&y.getContext,b=e.naturalWidth||e.width,g=e.naturalHeight||e.height,_=b,w=g;if(m&&(t=i.getTransformedOptions(e,t),f=t.left||0,p=t.top||0,t.sourceWidth?(c=t.sourceWidth,void 0!==t.right&&void 0===t.left&&(f=b-c-t.right)):c=b-f-(t.right||0),t.sourceHeight?(l=t.sourceHeight,void 0!==t.bottom&&void 0===t.top&&(p=g-l-t.bottom)):l=g-p-(t.bottom||0),_=c,w=l),o=t.maxWidth,a=t.maxHeight,s=t.minWidth,u=t.minHeight,m&&o&&a&&t.crop?(_=o,w=a,v=c/l-o/a,0>v?(l=a*c/o,void 0===t.top&&void 0===t.bottom&&(p=(g-l)/2)):v>0&&(c=o*l/a,void 0===t.left&&void 0===t.right&&(f=(b-c)/2))):((t.contain||t.cover)&&(s=o=o||s,u=a=a||u),t.cover?(r(),n()):(n(),r())),m){if(d=t.pixelRatio,d>1&&(y.style.width=_+"px",y.style.height=w+"px",_*=d,w*=d,y.getContext("2d").scale(d,d)),h=t.downsamplingRatio,h>0&&1>h&&c>_&&l>w)for(;c*h>_;)y.width=c*h,y.height=l*h,i.renderImageToCanvas(y,e,f,p,c,l,0,0,y.width,y.height),c=y.width,l=y.height,e=document.createElement("canvas"),e.width=c,e.height=l,i.renderImageToCanvas(e,y,0,0,c,l,0,0,c,l);return y.width=_,y.height=w,i.transformCoordinates(y,t),i.renderImageToCanvas(y,e,f,p,c,l,0,0,_,w)}return e.width=_,e.height=w,e},i.createObjectURL=function(e){return a?a.createObjectURL(e):!1},i.revokeObjectURL=function(e){return a?a.revokeObjectURL(e):!1},i.readFile=function(e,t,n){if(window.FileReader){var r=new FileReader;if(r.onload=r.onerror=t,n=n||"readAsDataURL",r[n])return r[n](e),r}return!1},r=function(){return i}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(window)},function(e,t,n){var r,o;!function(i,a){r=a,o="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==o&&(e.exports=o))}(this,function(e,t,n){var r=function(e,t,n,r,o,i){for(var a=0,s=["webkit","moz","ms","o"],u=0;s.length>u&&!window.requestAnimationFrame;++u)window.requestAnimationFrame=window[s[u]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[s[u]+"CancelAnimationFrame"]||window[s[u]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),r=Math.max(0,16-(n-a)),o=window.setTimeout(function(){e(n+r)},r);return a=n+r,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)});var c=this;c.options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",easingFn:null,formattingFn:null};for(var l in i)i.hasOwnProperty(l)&&(c.options[l]=i[l]);""===c.options.separator&&(c.options.useGrouping=!1),c.options.prefix||(c.options.prefix=""),c.options.suffix||(c.options.suffix=""),c.d="string"==typeof e?document.getElementById(e):e,c.startVal=+t,c.endVal=+n,c.countDown=c.startVal>c.endVal,c.frameVal=c.startVal,c.decimals=Math.max(0,r||0),c.dec=Math.pow(10,c.decimals),c.duration=1e3*+o||2e3,c.formatNumber=function(e){e=e.toFixed(c.decimals),e+="";var t,n,r,o;if(t=e.split("."),n=t[0],r=t.length>1?c.options.decimal+t[1]:"",o=/(\d+)(\d{3})/,c.options.useGrouping)for(;o.test(n);)n=n.replace(o,"$1"+c.options.separator+"$2");return c.options.prefix+n+r+c.options.suffix},c.easeOutExpo=function(e,t,n,r){return n*(-Math.pow(2,-10*e/r)+1)*1024/1023+t},c.easingFn=c.options.easingFn?c.options.easingFn:c.easeOutExpo,c.formattingFn=c.options.formattingFn?c.options.formattingFn:c.formatNumber,c.version=function(){return"1.7.1"},c.printValue=function(e){var t=c.formattingFn(e);"INPUT"===c.d.tagName?this.d.value=t:"text"===c.d.tagName||"tspan"===c.d.tagName?this.d.textContent=t:this.d.innerHTML=t},c.count=function(e){c.startTime||(c.startTime=e),c.timestamp=e;var t=e-c.startTime;c.remaining=c.duration-t,c.frameVal=c.options.useEasing?c.countDown?c.startVal-c.easingFn(t,0,c.startVal-c.endVal,c.duration):c.easingFn(t,c.startVal,c.endVal-c.startVal,c.duration):c.countDown?c.startVal-(c.startVal-c.endVal)*(t/c.duration):c.startVal+(c.endVal-c.startVal)*(t/c.duration),c.frameVal=c.countDown?c.endVal>c.frameVal?c.endVal:c.frameVal:c.frameVal>c.endVal?c.endVal:c.frameVal,c.frameVal=Math.round(c.frameVal*c.dec)/c.dec,c.printValue(c.frameVal),c.duration>t?c.rAF=requestAnimationFrame(c.count):c.callback&&c.callback()},c.start=function(e){return c.callback=e,c.rAF=requestAnimationFrame(c.count),!1},c.pauseResume=function(){c.paused?(c.paused=!1,delete c.startTime,c.duration=c.remaining,c.startVal=c.frameVal,requestAnimationFrame(c.count)):(c.paused=!0,cancelAnimationFrame(c.rAF))},c.reset=function(){c.paused=!1,delete c.startTime,c.startVal=t,cancelAnimationFrame(c.rAF),c.printValue(c.startVal)},c.update=function(e){cancelAnimationFrame(c.rAF),c.paused=!1,delete c.startTime,c.startVal=c.frameVal,c.endVal=+e,c.countDown=c.startVal>c.endVal,c.rAF=requestAnimationFrame(c.count)},c.printValue(c.startVal)};return r})},function(e,t,n){var r;!function(o){function i(){this._events={},this._conf&&a.call(this,this._conf)}function a(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners&&(this._events.maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),this.wildcard&&(this.listenerTree={}))}function s(e){this._events={},this.newListener=!1,a.call(this,e)}function u(e,t,n,r){if(!n)return[];var o,i,a,s,c,l,f,p=[],d=t.length,h=t[r],v=t[r+1];if(r===d&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(o=0,i=n._listeners.length;i>o;o++)e&&e.push(n._listeners[o]);return[n]}if("*"===h||"**"===h||n[h]){if("*"===h){for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&(p=p.concat(u(e,t,n[a],r+1)));return p}if("**"===h){f=r+1===d||r+2===d&&"*"===v,f&&n._listeners&&(p=p.concat(u(e,t,n,d)));for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&("*"===a||"**"===a?(n[a]._listeners&&!f&&(p=p.concat(u(e,t,n[a],d))),p=p.concat(u(e,t,n[a],r))):p=p.concat(a===v?u(e,t,n[a],r+2):u(e,t,n[a],r)));return p}p=p.concat(u(e,t,n[h],r+1))}if(s=n["*"],s&&u(e,t,s,r+1),c=n["**"])if(d>r){c._listeners&&u(e,t,c,d);for(a in c)"_listeners"!==a&&c.hasOwnProperty(a)&&(a===v?u(e,t,c[a],r+2):a===h?u(e,t,c[a],r+1):(l={},l[a]=c[a],u(e,t,{"**":l},r+1)))}else c._listeners?u(e,t,c,d):c["*"]&&c["*"]._listeners&&u(e,t,c["*"],d);return p}function c(e,t){e="string"==typeof e?e.split(this.delimiter):e.slice();for(var n=0,r=e.length;r>n+1;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var i=this.listenerTree,a=e.shift();a;){if(i[a]||(i[a]={}),i=i[a],0===e.length){if(i._listeners){if("function"==typeof i._listeners)i._listeners=[i._listeners,t];else if(l(i._listeners)&&(i._listeners.push(t),!i._listeners.warned)){var s=f;o!==this._events.maxListeners&&(s=this._events.maxListeners),s>0&&i._listeners.length>s&&(i._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",i._listeners.length),console.trace&&console.trace())}}else i._listeners=t;return!0}a=e.shift()}return!0}var l=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},f=10;s.EventEmitter2=s,s.prototype.delimiter=".",s.prototype.setMaxListeners=function(e){this._events||i.call(this),this._events.maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e},s.prototype.event="",s.prototype.once=function(e,t){return this.many(e,1,t),this},s.prototype.many=function(e,t,n){function r(){0===--t&&o.off(e,r),n.apply(this,arguments)}var o=this;if("function"!=typeof n)throw Error("many only accepts instances of Function");return r._origin=n,this.on(e,r),o},s.prototype.emit=function(){this._events||i.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,n,r,o,a,s=arguments.length;if(this._all&&this._all.length){if(a=this._all.slice(),s>3)for(t=Array(s),o=1;s>o;o++)t[o]=arguments[o];for(r=0,n=a.length;n>r;r++)switch(this.event=e,s){case 1:a[r].call(this,e);break;case 2:a[r].call(this,e,arguments[1]);break;case 3:a[r].call(this,e,arguments[1],arguments[2]);break;default:a[r].apply(this,t)}}if(this.wildcard){a=[];var c="string"==typeof e?e.split(this.delimiter):e.slice();u.call(this,a,c,this.listenerTree,0)}else{if(a=this._events[e],"function"==typeof a){switch(this.event=e,s){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:for(t=Array(s-1),o=1;s>o;o++)t[o-1]=arguments[o];a.apply(this,t)}return!0}a&&(a=a.slice())}if(a&&a.length){if(s>3)for(t=Array(s-1),o=1;s>o;o++)t[o-1]=arguments[o];for(r=0,n=a.length;n>r;r++)switch(this.event=e,s){case 1:a[r].call(this);break;case 2:a[r].call(this,arguments[1]);break;case 3:a[r].call(this,arguments[1],arguments[2]);break;default:a[r].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:Error("Uncaught, unspecified 'error' event.");return!!this._all},s.prototype.emitAsync=function(){this._events||i.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,n,r,o,a,s=[],c=arguments.length;if(this._all){if(c>3)for(t=Array(c),o=1;c>o;o++)t[o]=arguments[o];for(r=0,n=this._all.length;n>r;r++)switch(this.event=e,c){case 1:s.push(this._all[r].call(this,e));break;case 2:s.push(this._all[r].call(this,e,arguments[1]));break;case 3:s.push(this._all[r].call(this,e,arguments[1],arguments[2]));break;default:s.push(this._all[r].apply(this,t))}}if(this.wildcard){a=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();u.call(this,a,l,this.listenerTree,0)}else a=this._events[e];if("function"==typeof a)switch(this.event=e,c){case 1:s.push(a.call(this));break;case 2:s.push(a.call(this,arguments[1]));break;case 3:s.push(a.call(this,arguments[1],arguments[2]));break;default:for(t=Array(c-1),o=1;c>o;o++)t[o-1]=arguments[o];s.push(a.apply(this,t))}else if(a&&a.length){if(c>3)for(t=Array(c-1),o=1;c>o;o++)t[o-1]=arguments[o];for(r=0,n=a.length;n>r;r++)switch(this.event=e,c){case 1:s.push(a[r].call(this));break;case 2:s.push(a[r].call(this,arguments[1]));break;case 3:s.push(a[r].call(this,arguments[1],arguments[2]));break;default:s.push(a[r].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},s.prototype.on=function(e,t){if("function"==typeof e)return this.onAny(e),this;if("function"!=typeof t)throw Error("on only accepts instances of Function");if(this._events||i.call(this),this.emit("newListener",e,t),this.wildcard)return c.call(this,e,t),this;if(this._events[e]){if("function"==typeof this._events[e])this._events[e]=[this._events[e],t];else if(l(this._events[e])&&(this._events[e].push(t),!this._events[e].warned)){var n=f;o!==this._events.maxListeners&&(n=this._events.maxListeners),n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace&&console.trace())}}else this._events[e]=t;return this},s.prototype.onAny=function(e){if("function"!=typeof e)throw Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(e),this},s.prototype.addListener=s.prototype.on,s.prototype.off=function(e,t){function n(e){if(e!==o){var t=Object.keys(e);for(var r in t){var i=t[r],a=e[i];a instanceof Function||"object"!=typeof a||(Object.keys(a).length>0&&n(e[i]),0===Object.keys(a).length&&delete e[i])}}}if("function"!=typeof t)throw Error("removeListener only takes instances of Function");var r,i=[];if(this.wildcard){var a="string"==typeof e?e.split(this.delimiter):e.slice();i=u.call(this,null,a,this.listenerTree,0)}else{if(!this._events[e])return this;r=this._events[e],i.push({_listeners:r})}for(var s=0;i.length>s;s++){var c=i[s];if(r=c._listeners,l(r)){for(var f=-1,p=0,d=r.length;d>p;p++)if(r[p]===t||r[p].listener&&r[p].listener===t||r[p]._origin&&r[p]._origin===t){f=p;break}if(0>f)continue;return this.wildcard?c._listeners.splice(f,1):this._events[e].splice(f,1),0===r.length&&(this.wildcard?delete c._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(this.wildcard?delete c._listeners:delete this._events[e],this.emit("removeListener",e,t))}return n(this.listenerTree),this},s.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(t=this._all,n=0,r=t.length;r>n;n++)if(e===t[n])return t.splice(n,1),this.emit("removeListenerAny",e),this}else{for(t=this._all,n=0,r=t.length;r>n;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},s.prototype.removeListener=s.prototype.off,s.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||i.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=u.call(this,null,t,this.listenerTree,0),r=0;n.length>r;r++){var o=n[r];o._listeners=null}else{if(!this._events||!this._events[e])return this;this._events[e]=null}return this},s.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return u.call(this,t,n,this.listenerTree,0),t}return this._events||i.call(this),this._events[e]||(this._events[e]=[]),l(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},s.prototype.listenersAny=function(){return this._all?this._all:[]},r=function(){return s}.call(t,n,t,e),!(r!==o&&(e.exports=r))}()},function(e,t){},function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0};e.exports=function(e,t){if("string"!=typeof t)for(var o=Object.getOwnPropertyNames(t),i=0;o.length>i;++i)if(!n[o[i]]&&!r[o[i]])try{e[o[i]]=t[o[i]]}catch(a){}return e}},function(e,t,n){"use strict";var r=function(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;u=Error(t.replace(/%s/g,function(){return c[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=r},function(e,t){function n(e){return r(Object(e))}var r=Object.getPrototypeOf;e.exports=n},function(e,t){function n(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}e.exports=n},function(e,t){function n(e){return!!e&&"object"==typeof e}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){l(c.supportsWebSockets),f(c.supportsGetUserMedia)}function i(e){o();try{if(!c.supportsWebSockets)throw"WebSockets not supported";var t=new s["default"];return t.connect(e),t}catch(n){console.log(n)}}t.__esModule=!0,t["default"]=i;var a=n(48),s=r(a),u=n(10),c=n(54),l=u.actions.setWebSocketSupport,f=u.actions.setGumSupport},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(57),u=o(s),c=n(18),l=o(c),f=n(7),p=r(f),d=n(10),h=n(64),v=o(h),y=d.actions.setToken,m=d.actions.setAuthenticated,b=function(){function e(){i(this,e)}return a(e,[{key:"connect",value:function(e){var t=this,n=u["default"].stringify({jwt:e}),r=p.SOCKET_URL+"?"+n,o=new v["default"](r);o.onopen=function(){t.socket=o,t.onMessage(),y(e),m(!0)}}},{key:"onMessage",value:function(){this.socket.onmessage=function(e){var t=JSON.parse(e.data);l["default"].emit("onMessage",t)}}},{key:"sendMessage",value:function(e){this.socket.send(e)}}]),e}();t["default"]=b},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return{type:u.DOCUMENT_CAPTURE,payload:e}}function i(e){return{type:u.CAPTURE_IS_VALID,payload:e}}function a(e){return{type:u.FACE_CAPTURE,payload:e}}t.__esModule=!0,t.documentCapture=o,t.captureIsValid=i,t.faceCapture=a;var s=n(7),u=r(s)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return{type:p.SET_TOKEN,payload:e}}function i(e){return{type:p.SET_WEBSOCKET_SUPPORT,payload:e}}function a(e){return{type:p.SET_DOCUMENT_CAPTURED,payload:e}}function s(e){return{type:p.SET_FACE_CAPTURED,payload:e}}function u(e){return{type:p.SET_DOCUMENT_TYPE,payload:e}}function c(e){return{type:p.SET_AUTHENTICATED,payload:e}}function l(e){return{type:p.SET_GUM_SUPPORT,payload:e}}t.__esModule=!0,t.setToken=o,t.setWebSocketSupport=i,t.setDocumentCaptured=a,t.setFaceCaptured=s,t.setDocumentType=u,t.setAuthenticated=c,t.setGumSupport=l;var f=n(7),p=r(f)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);e.length>t;t++)n[t]=e[t];return n}return Array.from(e)}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case c.DOCUMENT_CAPTURE:var n=e.slice(0,4);return[t.payload].concat(i(n));case c.CAPTURE_IS_VALID:return e.map(function(e){return e.id===t.payload?(0,f["default"])({},e,{isValid:!0}):e});default:return e}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case c.FACE_CAPTURE:var n=e.slice(0,4);return[t.payload].concat(i(n));default:return e}}t.__esModule=!0,t.documentCaptures=a,t.faceCaptures=s;var u=n(7),c=o(u),l=n(6),f=r(l)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case c.SET_TOKEN:return e=(0,s["default"])({},e,{jwt:t.payload});case c.SET_AUTHENTICATED:return e=(0,s["default"])({},e,{authenticated:t.payload});case c.SET_WEBSOCKET_SUPPORT:return e=(0,s["default"])({},e,{supportsWebSockets:t.payload});case c.SET_GUM_SUPPORT:return e=(0,s["default"])({},e,{supportsGetUserMedia:t.payload});case c.SET_DOCUMENT_CAPTURED:return e=(0,s["default"])({},e,{hasDocumentCaptured:t.payload});case c.SET_FACE_CAPTURED:return e=(0,s["default"])({},e,{hasFaceCaptured:t.payload});case c.SET_DOCUMENT_TYPE:return e=(0,s["default"])({},e,{documentType:t.payload});default:return e}}t.__esModule=!0,t["default"]=i;var a=n(6),s=o(a),u=n(7),c=r(u),l={jwt:null,authenticated:!1,supportsWebSockets:!1,supportsGetUserMedia:!1,hasDocumentCaptured:!1,hasFaceCaptured:!1,documentType:null}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(8),i=n(51),a=n(52),s=r(a);t["default"]=(0,o.combineReducers)({globals:s["default"],documentCaptures:i.documentCaptures,faceCaptures:i.faceCaptures})},function(e,t){"use strict";t.__esModule=!0,t.supportsGetUserMedia="getUserMedia"in navigator||"webkitGetUserMedia"in navigator||"mozGetUserMedia"in navigator||"msGetUserMedia"in navigator,t.supportsWebSockets="WebSocket"in window},function(e,t,n){!function(t,r){e.exports=r(n(1))}(this,function(e){"use strict";function t(e,t){var r=p[t];r===!1?Object.defineProperty(e,t,v(t)):n(e,t)}function n(e,t){try{Object.defineProperty(e,t,v(t)),p[t]=!1}catch(n){if(!p[t]){var r=e.nodeName+": "+n;p[t]=r,!d&&"undefined"!=typeof console&&console.warn&&(d=!0,console.warn("Error overwriting some SVG properties.",{errors:p}))}}}function r(e){return function(){e.componentDidUpdate(),e=null}}var o={};o.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o["extends"]=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},o.objectWithoutProperties=function(e,t){var n={};for(var r in e)t.indexOf(r)<0&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},o.possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};var i="undefined"!=typeof document&&!!document.createElement,a=["viewBox"],s={xlink:"http://www.w3.org/1999/xlink"},u=/^([a-zA-Z]+)(?:\:|([A-Z]))/,c={className:"class"},l={},f=!1;i&&!function(){var e=document.createElement("div"),n=document.createElement;document.createElement=function(r){if(f||"svg"===r){var o=document.createElementNS("http://www.w3.org/2000/svg",r);o.setAttribute=y("setAttribute"),o.getAttribute=y("getAttribute"),o.removeAttribute=y("removeAttribute");for(var i in o)!~a.indexOf(i)&&i in e&&!c.hasOwnProperty(i)||t(o,i);return o}return n.call(document,r)}}();var p={},d=!1,h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){return t.hasOwnProperty(n)?t[n]:t[n]=e(n)}},v=h(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c[e]||e;return{set:function(e){null===e||void 0===e?this.removeAttribute(t):this.setAttribute(t,e)},get:function(){return this.getAttribute(t)}}}),y=h(function(e){return function(t,n){var r=this.constructor.prototype,o=t.match(u);if(o&&s.hasOwnProperty(o[1])){t=t.replace(u,"$2").toLowerCase();var i=s[o[1]];return r[e+"NS"].call(this,i,t,n)}return r[e].call(this,t,n)}}),m=function(t){function n(){return o.classCallCheck(this,n),o.possibleConstructorReturn(this,t.apply(this,arguments))}return o.inherits(n,t),n.prototype.componentWillUpdate=function(){f=!0},n.prototype.componentDidUpdate=function(){f=!1},n.prototype.render=function(t){var n=t.children,i=o.objectWithoutProperties(t,["children"]);return this.hasRendered||(this.hasRendered=f=!0,this.setState(l,r(this))),e.h("svg",o["extends"]({version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i),n)},n}(e.Component);return m})},function(e,t,n){var r,o,i;!function(n,a){o=[t,e],r=a,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t){"use strict";function n(e){var t=e&&(C&&e[C]||e[O]);return"function"==typeof t?t:void 0}function r(e){function t(t,n,r,o,i,a){if(o=o||E,a=a||r,null==n[r]){var s=_[i];return t?Error("Required "+s+" `"+a+"` was not specified in "+("`"+o+"`.")):null}return e(n,r,o,i,a)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function o(e){function t(t,n,r,o,i){var a=t[n],s=v(a);if(s!==e){var u=_[o],c=y(a);return Error("Invalid "+u+" `"+i+"` of type "+("`"+c+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return r(t)}function i(){return r(w.thatReturns(null))}function a(e){function t(t,n,r,o,i){var a=t[n];if(!Array.isArray(a)){var s=_[o],u=v(a);return Error("Invalid "+s+" `"+i+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an array."))}for(var c=0;a.length>c;c++){var l=e(a,c,r,o,i+"["+c+"]");if(l instanceof Error)return l}return null}return r(t)}function s(){function e(e,t,n,r,o){if(!g.isValidElement(e[t])){var i=_[r];return Error("Invalid "+i+" `"+o+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return r(e)}function u(e){function t(t,n,r,o,i){if(!(t[n]instanceof e)){var a=_[o],s=e.name||E,u=m(t[n]);return Error("Invalid "+a+" `"+i+"` of type "+("`"+u+"` supplied to `"+r+"`, expected ")+("instance of `"+s+"`."))}return null}return r(t)}function c(e){function t(t,n,r,o,i){for(var a=t[n],s=0;e.length>s;s++)if(a===e[s])return null;var u=_[o],c=JSON.stringify(e);return Error("Invalid "+u+" `"+i+"` of value `"+a+"` "+("supplied to `"+r+"`, expected one of "+c+"."))}return r(Array.isArray(e)?t:function(){return Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function l(e){function t(t,n,r,o,i){var a=t[n],s=v(a);if("object"!==s){var u=_[o];return Error("Invalid "+u+" `"+i+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an object."))}for(var c in a)if(a.hasOwnProperty(c)){var l=e(a,c,r,o,i+"."+c);if(l instanceof Error)return l}return null}return r(t)}function f(e){function t(t,n,r,o,i){for(var a=0;e.length>a;a++){var s=e[a];if(null==s(t,n,r,o,i))return null}var u=_[o];return Error("Invalid "+u+" `"+i+"` supplied to "+("`"+r+"`."))}return r(Array.isArray(e)?t:function(){return Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function p(){function e(e,t,n,r,o){if(!h(e[t])){var i=_[r];return Error("Invalid "+i+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return r(e)}function d(e){function t(t,n,r,o,i){var a=t[n],s=v(a);if("object"!==s){var u=_[o];return Error("Invalid "+u+" `"+i+"` of type `"+s+"` "+("supplied to `"+r+"`, expected `object`."))}for(var c in e){var l=e[c];if(l){var f=l(a,c,r,o,i+"."+c);if(f)return f}}return null}return r(t)}function h(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(h);if(null===e||g.isValidElement(e))return!0;var t=n(e);if(!t)return!1;var r,o=t.call(e);if(t!==e.entries){for(;!(r=o.next()).done;)if(!h(r.value))return!1}else for(;!(r=o.next()).done;){var i=r.value;if(i&&!h(i[1]))return!1}return!0;default:return!1}}function v(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function y(e){var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function m(e){return e.constructor&&e.constructor.name?e.constructor.name:E}var b="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,g={};g.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===b};var _={prop:"prop",context:"context",childContext:"child context"},w={thatReturns:function(e){return function(){return e}}},C="function"==typeof Symbol&&Symbol.iterator,O="@@iterator",E="<<anonymous>>",P={array:o("array"),bool:o("boolean"),func:o("function"),number:o("number"),object:o("object"),string:o("string"),any:i(),arrayOf:a,element:s(),instanceOf:u,node:p(),objectOf:l,oneOf:c,oneOfType:f,shape:d};t.exports=P})},function(e,t,n){"use strict";function r(e,t){return t.encode?t.strict?o(e):encodeURIComponent(e):e}var o=n(68),i=n(6);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e){var t=Object.create(null);return"string"!=typeof e?t:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var n=e.replace(/\+/g," ").split("="),r=n.shift(),o=n.length>0?n.join("="):void 0;r=decodeURIComponent(r),o=void 0===o?null:decodeURIComponent(o),void 0===t[r]?t[r]=o:Array.isArray(t[r])?t[r].push(o):t[r]=[t[r],o]}),t):t},t.stringify=function(e,t){var n={encode:!0,strict:!0};return t=i(n,t),e?Object.keys(e).sort().map(function(n){var o=e[n];if(void 0===o)return"";if(null===o)return n;if(Array.isArray(o)){var i=[];return o.slice().forEach(function(e){void 0!==e&&i.push(null===e?r(n,t):r(n,t)+"="+r(e,t))}),i.join("&")}return r(n,t)+"="+r(o,t)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t,n){!function(t,r){e.exports=r(n(2))}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)<0&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);
}return e},c=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),f=r(l),p=n(2),d=r(p),h="undefined"!=typeof document&&document&&document.createElement?"multiple"in document.createElement("input"):!0,v=function(e){function t(e,n){i(this,t);var r=a(this,Object.getPrototypeOf(t).call(this,e,n));return r.onClick=r.onClick.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDragEnter=r.onDragEnter.bind(r),r.onDragLeave=r.onDragLeave.bind(r),r.onDragOver=r.onDragOver.bind(r),r.onDrop=r.onDrop.bind(r),r.state={isDragActive:!1},r}return s(t,e),c(t,[{key:"componentDidMount",value:function(){this.enterCounter=0}},{key:"onDragStart",value:function(e){this.props.onDragStart&&this.props.onDragStart.call(this,e)}},{key:"onDragEnter",value:function(e){e.preventDefault(),++this.enterCounter;var t=e.dataTransfer&&e.dataTransfer.items?e.dataTransfer.items:[],n=this.allFilesAccepted(Array.prototype.slice.call(t));this.setState({isDragActive:n,isDragReject:!n}),this.props.onDragEnter&&this.props.onDragEnter.call(this,e)}},{key:"onDragOver",value:function(e){return e.preventDefault(),e.stopPropagation(),!1}},{key:"onDragLeave",value:function(e){e.preventDefault(),--this.enterCounter>0||(this.setState({isDragActive:!1,isDragReject:!1}),this.props.onDragLeave&&this.props.onDragLeave.call(this,e))}},{key:"onDrop",value:function(e){e.preventDefault(),this.enterCounter=0,this.setState({isDragActive:!1,isDragReject:!1});for(var t=e.dataTransfer?e.dataTransfer.files:e.target.files,n=this.props.multiple?t.length:Math.min(t.length,1),r=[],o=0;n>o;o++){var i=t[o];this.props.disablePreview||(i.preview=window.URL.createObjectURL(i)),r.push(i)}this.props.onDrop&&this.props.onDrop.call(this,r,e),this.allFilesAccepted(r)?this.props.onDropAccepted&&this.props.onDropAccepted.call(this,r,e):this.props.onDropRejected&&this.props.onDropRejected.call(this,r,e)}},{key:"onClick",value:function(){this.props.disableClick||this.open()}},{key:"allFilesAccepted",value:function(e){var t=this;return e.every(function(e){return(0,f["default"])(e,t.props.accept)})}},{key:"open",value:function(){this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var e=this,t=this.props,n=t.accept,r=t.activeClassName,i=t.inputProps,a=t.multiple,s=t.name,c=t.rejectClassName,l=o(t,["accept","activeClassName","inputProps","multiple","name","rejectClassName"]),f=l.activeStyle,p=l.className,v=l.rejectStyle,y=l.style,m=o(l,["activeStyle","className","rejectStyle","style"]),b=this.state,g=b.isDragActive,_=b.isDragReject;p=p||"",g&&r&&(p+=" "+r),_&&c&&(p+=" "+c),p||y||f||v||(y={width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5},f={borderStyle:"solid",backgroundColor:"#eee"},v={borderStyle:"solid",backgroundColor:"#ffdddd"});var w=void 0;w=f&&g?u({},y,f):v&&_?u({},y,v):u({},y);var C={accept:n,type:"file",style:{display:"none"},multiple:h&&a,ref:function(t){return e.fileInputEl=t},onChange:this.onDrop};return s&&s.length&&(C.name=s),d["default"].createElement("div",u({className:p,style:w},m,{onClick:this.onClick,onDragStart:this.onDragStart,onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop}),this.props.children,d["default"].createElement("input",u({},i,C)))}}]),t}(d["default"].Component);v.defaultProps={disablePreview:!1,disableClick:!1,multiple:!0},v.propTypes={onDrop:d["default"].PropTypes.func,onDropAccepted:d["default"].PropTypes.func,onDropRejected:d["default"].PropTypes.func,onDragStart:d["default"].PropTypes.func,onDragEnter:d["default"].PropTypes.func,onDragLeave:d["default"].PropTypes.func,children:d["default"].PropTypes.node,style:d["default"].PropTypes.object,activeStyle:d["default"].PropTypes.object,rejectStyle:d["default"].PropTypes.object,className:d["default"].PropTypes.string,activeClassName:d["default"].PropTypes.string,rejectClassName:d["default"].PropTypes.string,disablePreview:d["default"].PropTypes.bool,disableClick:d["default"].PropTypes.bool,inputProps:d["default"].PropTypes.object,multiple:d["default"].PropTypes.bool,accept:d["default"].PropTypes.string,name:d["default"].PropTypes.string},t["default"]=v,e.exports=t["default"]},function(e,t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";t.__esModule=!0,n(8),n(9),t["default"]=function(e,t){if(e&&t){var n=function(){var n=t.split(","),r=e.name||"",o=e.type||"",i=o.replace(/\/.*$/,"");return{v:n.some(function(e){var t=e.trim();return"."===t.charAt(0)?r.toLowerCase().endsWith(t.toLowerCase()):/\/\*$/.test(t)?i===t.replace(/\/.*$/,""):o===t})}}();if("object"==typeof n)return n.v}return!0},e.exports=t["default"]},function(e,t){var n=e.exports={version:"1.2.2"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(2),o=n(1),i=n(4),a=n(19),s="prototype",u=function(e,t){return function(){return e.apply(t,arguments)}},c=function(e,t,n){var l,f,p,d,h=e&c.G,v=e&c.P,y=h?r:e&c.S?r[t]||(r[t]={}):(r[t]||{})[s],m=h?o:o[t]||(o[t]={});h&&(n=t);for(l in n)f=!(e&c.F)&&y&&l in y,p=(f?y:n)[l],d=e&c.B&&f?u(p,r):v&&"function"==typeof p?u(Function.call,p):p,y&&!f&&a(y,l,p),m[l]!=p&&i(m,l,d),v&&((m[s]||(m[s]={}))[l]=p)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,e.exports=c},function(e,t,n){var r=n(5),o=n(18);e.exports=n(22)?function(e,t,n){return r.setDesc(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(20)("wks"),o=n(2).Symbol;e.exports=function(e){return r[e]||(r[e]=o&&o[e]||(o||n(6))("Symbol."+e))}},function(e,t,n){n(26),e.exports=n(1).Array.some},function(e,t,n){n(25),e.exports=n(1).String.endsWith},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(10);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n(7)("match")]=!1,!"/./"[e](t)}catch(o){}}return!0}},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(16),o=n(11),i=n(7)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(2),o=n(4),i=n(6)("src"),a="toString",s=Function[a],u=(""+s).split(a);n(1).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,a){"function"==typeof n&&(o(n,i,e[t]?""+e[t]:u.join(t+"")),"name"in n||(n.name=t)),e===r?e[t]=n:(a||delete e[t],o(e,t,n))})(Function.prototype,a,function(){return"function"==typeof this&&this[i]||s.call(this)})},function(e,t,n){var r=n(2),o="__core-js_shared__",i=r[o]||(r[o]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){var r=n(17),o=n(13);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return o(e)+""}},function(e,t,n){e.exports=!n(15)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(23),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){"use strict";var r=n(3),o=n(24),i=n(21),a="endsWith",s=""[a];r(r.P+r.F*n(14)(a),"String",{endsWith:function(e){var t=i(this,e,a),n=arguments,r=n.length>1?n[1]:void 0,u=o(t.length),c=void 0===r?u:Math.min(o(r),u),l=e+"";return s?s.call(t,l,c):t.slice(c-l.length,c)===l}})},function(e,t,n){var r=n(5),o=n(3),i=n(1).Array||Array,a={},s=function(e,t){r.each.call(e.split(","),function(e){void 0==t&&e in i?a[e]=i[e]:e in[]&&(a[e]=n(12)(Function.call,[][e],t))})};s("pop,reverse,shift,keys,values,entries",1),s("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),s("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill"),o(o.S,"Array",a)}])},function(t,n){t.exports=e}])})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t["default"]=void 0;var s=n(2),u=n(20),c=r(u),l=n(21),f=(r(l),function(e){function t(n,r){o(this,t);var a=i(this,e.call(this,n,r));return a.store=n.store,a}return a(t,e),t.prototype.getChildContext=function(){return{store:this.store}},t.prototype.render=function(){var e=this.props.children;return s.Children.only(e)},t}(s.Component));t["default"]=f,f.propTypes={store:c["default"].isRequired,children:s.PropTypes.element.isRequired},f.childContextTypes={store:c["default"].isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.displayName||e.name||"Component"}function u(e,t){try{return e.apply(t)}catch(n){return T.value=n,T}}function c(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=!!e,p=e||E,h=void 0;h="function"==typeof t?t:t?(0,m["default"])(t):P;var y=n||x,b=r.pure,g=void 0===b?!0:b,_=r.withRef,C=void 0===_?!1:_,k=g&&y!==x,M=S++;return function(e){function t(e,t,n){var r=y(e,t,n);return r}var n="Connect("+s(e)+")",r=function(r){function s(e,t){o(this,s);var a=i(this,r.call(this,e,t));a.version=M,a.store=e.store||t.store,(0,O["default"])(a.store,'Could not find "store" in either the context or '+('props of "'+n+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+n+'".'));var u=a.store.getState();return a.state={storeState:u},a.clearCache(),a}return a(s,r),s.prototype.shouldComponentUpdate=function(){return!g||this.haveOwnPropsChanged||this.hasStoreStateChanged},s.prototype.computeStateProps=function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var n=e.getState(),r=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,t):this.finalMapStateToProps(n);return r},s.prototype.configureFinalMapState=function(e,t){var n=p(e.getState(),t),r="function"==typeof n;return this.finalMapStateToProps=r?n:p,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,r?this.computeStateProps(e,t):n},s.prototype.computeDispatchProps=function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var n=e.dispatch,r=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,t):this.finalMapDispatchToProps(n);return r},s.prototype.configureFinalMapDispatch=function(e,t){var n=h(e.dispatch,t),r="function"==typeof n;return this.finalMapDispatchToProps=r?n:h,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,r?this.computeDispatchProps(e,t):n},s.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return this.stateProps&&(0,v["default"])(e,this.stateProps)?!1:(this.stateProps=e,!0)},s.prototype.updateDispatchPropsIfNeeded=function(){var e=this.computeDispatchProps(this.store,this.props);return this.dispatchProps&&(0,v["default"])(e,this.dispatchProps)?!1:(this.dispatchProps=e,!0)},s.prototype.updateMergedPropsIfNeeded=function(){var e=t(this.stateProps,this.dispatchProps,this.props);return this.mergedProps&&k&&(0,v["default"])(e,this.mergedProps)?!1:(this.mergedProps=e,!0)},s.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},s.prototype.trySubscribe=function(){c&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},s.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},s.prototype.componentDidMount=function(){this.trySubscribe()},s.prototype.componentWillReceiveProps=function(e){g&&(0,v["default"])(e,this.props)||(this.haveOwnPropsChanged=!0)},s.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},s.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},s.prototype.handleChange=function(){if(this.unsubscribe){var e=this.store.getState(),t=this.state.storeState;if(!g||t!==e){if(g&&!this.doStatePropsDependOnOwnProps){var n=u(this.updateStatePropsIfNeeded,this);if(!n)return;n===T&&(this.statePropsPrecalculationError=T.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:e})}}},s.prototype.getWrappedInstance=function(){return(0,O["default"])(C,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},s.prototype.render=function(){var t=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.haveStatePropsBeenPrecalculated,o=this.statePropsPrecalculationError,i=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,o)throw o;var a=!0,s=!0;g&&i&&(a=n||t&&this.doStatePropsDependOnOwnProps,s=t&&this.doDispatchPropsDependOnOwnProps);var u=!1,c=!1;r?u=!0:a&&(u=this.updateStatePropsIfNeeded()),s&&(c=this.updateDispatchPropsIfNeeded());var p=!0;return p=u||c||t?this.updateMergedPropsIfNeeded():!1,!p&&i?i:this.renderedElement=C?(0,f.createElement)(e,l({},this.mergedProps,{ref:"wrappedInstance"})):(0,f.createElement)(e,this.mergedProps)},s}(f.Component);return r.displayName=n,r.WrappedComponent=e,r.contextTypes={store:d["default"]},r.propTypes={store:d["default"]},(0,w["default"])(r,e)}}var l=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.__esModule=!0,t["default"]=c;var f=n(2),p=n(20),d=r(p),h=n(61),v=r(h),y=n(62),m=r(y),b=n(21),g=(r(b),n(12)),_=(r(g),n(42)),w=r(_),C=n(43),O=r(C),E=function(e){return{}},P=function(e){return{dispatch:e}},x=function(e,t,n){return l({},n,e,t)},T={value:null},S=0},function(e,t){"use strict";function n(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;n.length>i;i++)if(!o.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;return!0}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(e){return function(t){return(0,o.bindActionCreators)(e,t)}}t.__esModule=!0,t["default"]=r;var o=n(8)},function(e,t,n){!function(t,r){e.exports=r(n(2),n(2))}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(){return!!(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)}t.__esModule=!0;var s=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l=n(2),f=function(e){function t(){o(this,t),e.call(this),this.state={hasUserMedia:!1}}return i(t,e),s(t,null,[{key:"defaultProps",value:{audio:!0,height:480,width:640,screenshotFormat:"image/webp",onUserMedia:function(){}},enumerable:!0},{key:"propTypes",value:{audio:u.PropTypes.bool,onUserMedia:u.PropTypes.func,height:u.PropTypes.oneOfType([u.PropTypes.number,u.PropTypes.string]),width:u.PropTypes.oneOfType([u.PropTypes.number,u.PropTypes.string]),screenshotFormat:u.PropTypes.oneOf(["image/webp","image/png","image/jpeg"]),className:u.PropTypes.string},enumerable:!0},{key:"mountedInstances",value:[],enumerable:!0},{key:"userMediaRequested",value:!1,enumerable:!0}]),t.prototype.componentDidMount=function(){a()&&(t.mountedInstances.push(this),this.state.hasUserMedia||t.userMediaRequested||this.requestUserMedia())},t.prototype.requestUserMedia=function(){var e=this;navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var n=function(n,r){var o={video:{optional:[{sourceId:r}]}};e.props.audio&&(o.audio={optional:[{sourceId:n}]}),navigator.getUserMedia(o,function(e){t.mountedInstances.forEach(function(t){return t.handleUserMedia(null,e)})},function(e){t.mountedInstances.forEach(function(t){return t.handleUserMedia(e)})})};this.props.audioSource&&this.props.videoSource?n(this.props.audioSource,this.props.videoSource):"mediaDevices"in navigator?navigator.mediaDevices.enumerateDevices().then(function(e){var t=null,r=null;e.forEach(function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(r=e.id)}),n(t,r)})["catch"](function(e){console.log(e.name+": "+e.message)}):MediaStreamTrack.getSources(function(e){var t=null,r=null;e.forEach(function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(r=e.id)}),n(t,r)}),t.userMediaRequested=!0},t.prototype.handleUserMedia=function(e,t){if(e)return void this.setState({hasUserMedia:!1});var n=window.URL.createObjectURL(t);this.stream=t,this.setState({hasUserMedia:!0,src:n}),this.props.onUserMedia()},t.prototype.componentWillUnmount=function(){var e=t.mountedInstances.indexOf(this);if(t.mountedInstances.splice(e,1),0===t.mountedInstances.length&&this.state.hasUserMedia){if(this.stream.stop)this.stream.stop();else{if(this.stream.getVideoTracks)for(var n=this.stream.getVideoTracks(),r=Array.isArray(n),o=0,n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if(o=n.next(),o.done)break;i=o.value}var a=i;a.stop()}if(this.stream.getAudioTracks)for(var s=this.stream.getAudioTracks(),u=Array.isArray(s),c=0,s=u?s:s[Symbol.iterator]();;){var l;if(u){if(c>=s.length)break;l=s[c++]}else{if(c=s.next(),c.done)break;l=c.value}var a=l;a.stop()}}t.userMediaRequested=!1,window.URL.revokeObjectURL(this.state.src)}},t.prototype.getScreenshot=function(){if(!this.state.hasUserMedia)return null;var e=this.getCanvas();return e.toDataURL(this.props.screenshotFormat)},t.prototype.getCanvas=function(){if(!this.state.hasUserMedia)return null;var e=l.findDOMNode(this);if(!this.ctx){var t=document.createElement("canvas");t.height=e.clientHeight,t.width=e.clientWidth,this.canvas=t,this.ctx=t.getContext("2d")}var n=this.ctx,r=this.canvas;return n.drawImage(e,0,0,r.width,r.height),r},t.prototype.render=function(){return c["default"].createElement("video",{autoPlay:!0,width:this.props.width,height:this.props.height,src:this.state.src,className:this.props.className})},t}(u.Component);t["default"]=f,e.exports=t["default"]},function(t,n){t.exports=e},function(e,n){e.exports=t}])})},function(e,t,n){var r,o,i;!function(n,a){o=[],r=a,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(){function e(t,n,r){function o(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}var i={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:2e3,maxReconnectAttempts:null};r||(r={});for(var a in i)this[a]=void 0!==r[a]?r[a]:i[a];this.url=t,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var s,u=this,c=!1,l=!1,f=document.createElement("div");f.addEventListener("open",function(e){u.onopen(e)}),f.addEventListener("close",function(e){u.onclose(e)}),f.addEventListener("connecting",function(e){u.onconnecting(e)}),f.addEventListener("message",function(e){u.onmessage(e)}),f.addEventListener("error",function(e){u.onerror(e)}),this.addEventListener=f.addEventListener.bind(f),this.removeEventListener=f.removeEventListener.bind(f),this.dispatchEvent=f.dispatchEvent.bind(f),this.open=function(t){if(s=new WebSocket(u.url,n||[]),t){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else f.dispatchEvent(o("connecting")),this.reconnectAttempts=0;(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",u.url);var r=s,i=setTimeout(function(){(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",u.url),l=!0,r.close(),l=!1},u.timeoutInterval);s.onopen=function(n){clearTimeout(i),(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onopen",u.url),u.protocol=s.protocol,u.readyState=WebSocket.OPEN,u.reconnectAttempts=0;var r=o("open");r.isReconnect=t,t=!1,f.dispatchEvent(r)},s.onclose=function(n){if(clearTimeout(i),s=null,c)u.readyState=WebSocket.CLOSED,f.dispatchEvent(o("close"));else{u.readyState=WebSocket.CONNECTING;var r=o("connecting");r.code=n.code,r.reason=n.reason,r.wasClean=n.wasClean,f.dispatchEvent(r),t||l||((u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onclose",u.url),f.dispatchEvent(o("close")));var i=u.reconnectInterval*Math.pow(u.reconnectDecay,u.reconnectAttempts);setTimeout(function(){u.reconnectAttempts++,u.open(!0)},i>u.maxReconnectInterval?u.maxReconnectInterval:i)}},s.onmessage=function(t){(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",u.url,t.data);var n=o("message");n.data=t.data,f.dispatchEvent(n)},s.onerror=function(t){(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onerror",u.url,t),f.dispatchEvent(o("error"))}},1==this.automaticOpen&&this.open(!1),this.send=function(t){if(s)return(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","send",u.url,t),s.send(t);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,t){void 0===e&&(e=1e3),c=!0,s&&s.close(e,t)},this.refresh=function(){s&&s.close()}}return"WebSocket"in window?(e.prototype.onopen=function(e){},e.prototype.onclose=function(e){},e.prototype.onconnecting=function(e){},e.prototype.onmessage=function(e){},e.prototype.onerror=function(e){},e.debugAll=!1,e.CONNECTING=WebSocket.CONNECTING,e.OPEN=WebSocket.OPEN,e.CLOSING=WebSocket.CLOSING,e.CLOSED=WebSocket.CLOSED,e):void 0})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){return function(n,r,o){var a=e(n,r,o),u=a.dispatch,c=[],l={getState:a.getState,dispatch:function(e){return u(e)}};return c=t.map(function(e){return e(l)}),u=s["default"].apply(void 0,c)(a.dispatch),i({},a,{dispatch:u})}}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=o;var a=n(22),s=r(a)},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function r(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),o={},i=0;r.length>i;i++){var a=r[i],s=e[a];"function"==typeof s&&(o[a]=n(s,t))}return o}t.__esModule=!0,t["default"]=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=t&&t.type,r=n&&'"'+n+'"'||"an action";return"Given action "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function i(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:s.ActionTypes.INIT});if(void 0===r)throw Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if(void 0===n(void 0,{type:o}))throw Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function a(e){for(var t=Object.keys(e),n={},r=0;t.length>r;r++){var a=t[r];"function"==typeof e[a]&&(n[a]=e[a])}var s,u=Object.keys(n);try{i(n)}catch(c){s=c}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(s)throw s;for(var r=!1,i={},a=0;u.length>a;a++){var c=u[a],l=n[c],f=e[c],p=l(f,t);if(void 0===p){var d=o(c,t);throw Error(d)}i[c]=p,r=r||p!==f}return r?i:e}}t.__esModule=!0,t["default"]=a;var s=n(23),u=n(12),c=(r(u),n(24));r(c)},function(e,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t,n){(function(t){"use strict";e.exports=n(70)(t||window||this)}).call(t,function(){return this}())},function(e,t){"use strict";e.exports=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}},function(e,t,n){var r,o,i;!function(n,a){o=[e,t],r=a,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){n(this,e),this.$$={modal:".modal",modalInner:".modal-inner",modalContent:".modal-content",open:'[rel="modal:open"]',close:'[rel="modal:close"]',page:"body","class":"modal-visible",loadClass:"vanilla-modal",clickOutside:!0,closeKeys:[27],transitions:!0,transitionEnd:null,onBeforeOpen:null,onBeforeClose:null,onOpen:null,onClose:null},this._applyUserSettings(t),this.error=!1,this.isOpen=!1,this.current=null,this.open=this._open.bind(this),this.close=this._close.bind(this),this.$$.transitionEnd=this._transitionEndVendorSniff(),this.$=this._setupDomNodes(),this.error?console.error("Please fix errors before proceeding."):(this._addLoadedCssClass(),this._events().add())}return o(e,[{key:"_applyUserSettings",value:function(e){if("object"===(void 0===e?"undefined":r(e)))for(var t in e)e.hasOwnProperty(t)&&(this.$$[t]=e[t])}},{key:"_transitionEndVendorSniff",value:function(){if(this.$$.transitions!==!1){var e=document.createElement("div"),t={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var n in t)if(t.hasOwnProperty(n)&&void 0!==e.style[n])return t[n]}}},{key:"_getNode",value:function(e,t){var n=t||document,r=n.querySelector(e);return r?r:(this.error=!0,console.error(e+" not found in document."))}},{key:"_setupDomNodes",value:function(){var e={};return e.modal=this._getNode(this.$$.modal),e.page=this._getNode(this.$$.page),e.modalInner=this._getNode(this.$$.modalInner,this.modal),e.modalContent=this._getNode(this.$$.modalContent,this.modal),e}},{key:"_addLoadedCssClass",value:function(){this._addClass(this.$.page,this.$$.loadClass)}},{key:"_addClass",value:function(e,t){if(e instanceof HTMLElement!=0){var n=e.className.split(" ");-1===n.indexOf(t)&&n.push(t),e.className=n.join(" ")}}},{key:"_removeClass",value:function(e,t){if(e instanceof HTMLElement!=0){var n=e.className.split(" ");n.indexOf(t)>-1&&n.splice(n.indexOf(t),1),e.className=n.join(" ")}}},{key:"_setOpenId",value:function(){var e=this.current.id||"anonymous";this.$.page.setAttribute("data-current-modal",e)}},{key:"_removeOpenId",value:function(){this.$.page.removeAttribute("data-current-modal")}},{key:"_getElementContext",value:function(e){return e&&"string"==typeof e.hash?document.querySelector(e.hash):"string"==typeof e?document.querySelector(e):console.error("No selector supplied to open()")}},{key:"_open",value:function(e,t){return this._releaseNode(),this.current=this._getElementContext(e),this.current instanceof HTMLElement==0?console.error("VanillaModal target must exist on page."):("function"==typeof this.$$.onBeforeOpen&&this.$$.onBeforeOpen.call(this,t),this._captureNode(),this._addClass(this.$.page,this.$$["class"]),this._setOpenId(),this.isOpen=!0,void("function"==typeof this.$$.onOpen&&this.$$.onOpen.call(this,t)))}},{key:"_detectTransition",value:function(){var e=window.getComputedStyle(this.$.modal,null),t=["transitionDuration","oTransitionDuration","MozTransitionDuration","webkitTransitionDuration"],n=t.filter(function(t){return"string"==typeof e[t]&&parseFloat(e[t])>0?!0:void 0});return!!n.length}},{key:"_close",value:function(e){
if(this.isOpen===!0){this.isOpen=!1,"function"==typeof this.$$.onBeforeClose&&this.$$.onBeforeClose.call(this,e),this._removeClass(this.$.page,this.$$["class"]);var t=this._detectTransition();this.$$.transitions&&this.$$.transitionEnd&&t?this._closeModalWithTransition(e):this._closeModal(e)}}},{key:"_closeModal",value:function(e){this._removeOpenId(this.$.page),this._releaseNode(),this.isOpen=!1,this.current=null,"function"==typeof this.$$.onClose&&this.$$.onClose.call(this,e)}},{key:"_closeModalWithTransition",value:function(e){var t=function(){this.$.modal.removeEventListener(this.$$.transitionEnd,t),this._closeModal(e)}.bind(this);this.$.modal.addEventListener(this.$$.transitionEnd,t)}},{key:"_captureNode",value:function(){if(this.current)for(;this.current.childNodes.length>0;)this.$.modalContent.appendChild(this.current.childNodes[0])}},{key:"_releaseNode",value:function(){if(this.current)for(;this.$.modalContent.childNodes.length>0;)this.current.appendChild(this.$.modalContent.childNodes[0])}},{key:"_closeKeyHandler",value:function(e){"[object Array]"===Object.prototype.toString.call(this.$$.closeKeys)&&0!==this.$$.closeKeys.length&&this.$$.closeKeys.indexOf(e.which)>-1&&this.isOpen===!0&&(e.preventDefault(),this.close(e))}},{key:"_outsideClickHandler",value:function(e){if(this.$$.clickOutside===!0){for(var t=e.target;t&&t!=document.body;){if(t===this.$.modalInner)return;t=t.parentNode}this.close(e)}}},{key:"_matches",value:function(e,t){for(var n=e.target,r=(n.document||n.ownerDocument).querySelectorAll(t),o=0;r.length>o;o++)for(var i=n;i&&i!==document.body;){if(i===r[o])return i;i=i.parentNode}return null}},{key:"_delegateOpen",value:function(e){var t=this._matches(e,this.$$.open);return t?(e.preventDefault(),e.delegateTarget=t,this.open(t,e)):void 0}},{key:"_delegateClose",value:function(e){return this._matches(e,this.$$.close)?(e.preventDefault(),this.close(e)):void 0}},{key:"_events",value:function(){var e=this._closeKeyHandler.bind(this),t=this._outsideClickHandler.bind(this),n=this._delegateOpen.bind(this),r=this._delegateClose.bind(this),o=function(){this.$.modal.addEventListener("click",t,!1),document.addEventListener("keydown",e,!1),document.addEventListener("click",n,!1),document.addEventListener("click",r,!1)};return this.destroy=function(){this.close(),this.$.modal.removeEventListener("click",t),document.removeEventListener("keydown",e),document.removeEventListener("click",n),document.removeEventListener("click",r)},{add:o.bind(this)}}}]),e}();t["default"]=i,e.exports=t["default"]})}])});
//# sourceMappingURL=onfido.min.js.map