!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Onfido=t():e.Onfido=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.selectors=t.unboundActions=t.events=t.actions=t.store=t.connect=void 0;var i=n(12),s=o(i),c=n(5),u=o(c),a=n(4),l=o(a),f=n(2),d=n(7),p=r(d);t.connect=s["default"],t.store=u["default"],t.actions=f.actions,t.events=l["default"],t.unboundActions=f.unboundActions,t.selectors=p},function(e,t){"use strict";t.__esModule=!0;t.SOCKET_URL="wss://ws.onfido.com:9876",t.SOCKET_URL_DEV="wss://document-check-staging.onfido.co.uk:9876",t.XHR_URL="https://api.onfido.com",t.DOCUMENT_CAPTURE="DOCUMENT_CAPTURE",t.FACE_CAPTURE="FACE_CAPTURE",t.SET_AUTHENTICATED="SET_AUTHENTICATED",t.SET_WEBSOCKET_SUPPORT="SET_WEBSOCKET_SUPPORT",t.SET_WEBSOCKET_ERROR="SET_WEBSOCKET_ERROR",t.SET_GUM_SUPPORT="SET_GUM_SUPPORT",t.SET_DOCUMENT_TYPE="SET_DOCUMENT_TYPE",t.CAPTURE_CREATE="CAPTURE_CREATE",t.CAPTURE_VALID="CAPTURE_VALID",t.CAPTURE_DELETE="CAPTURE_DELETE"},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.actions=t.unboundActions=void 0;var i=n(6),s=n(3),c=o(s),u=n(5),a=o(u),l=n(15),f=r(l),d=n(14),p=r(d),h=t.unboundActions=(0,c["default"])({},f,p);t.actions=(0,i.bindActionCreators)(h,a["default"].dispatch)},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;10>n;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(i){return!1}}var o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,s,c=n(e),u=1;arguments.length>u;u++){r=Object(arguments[u]);for(var a in r)o.call(r,a)&&(c[a]=r[a]);if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(r);for(var l=0;s.length>l;l++)i.call(r,s[l])&&(c[s[l]]=r[s[l]])}}return c}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(){var e=a["default"].getState(),t=f.captureSelector(e);p(e)&&d.emit("ready"),f.documentCaptured(e)&&d.emit("documentCapture",t),f.faceCaptured(e)&&d.emit("faceCapture",t),f.allCaptured(e)&&d.emit("complete",t)}t.__esModule=!0;var s=n(20),c=o(s),u=n(5),a=o(u),l=(n(2),n(7)),f=r(l),d=new c["default"];a["default"].subscribe(i);var p=function(e){return e.globals.authenticated};d.getCaptures=function(){return captureSelector(a["default"].getState())},t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(6),i=n(18),s=r(i),c=(0,o.createStore)(s["default"],window.devToolsExtension?window.devToolsExtension():void 0);t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var o=n(10),i=r(o),s=n(28),c=r(s),u=n(27),a=r(u),l=n(26),f=r(l),d=n(9),p=r(d),h=n(11);r(h);t.createStore=i["default"],t.combineReducers=c["default"],t.bindActionCreators=a["default"],t.applyMiddleware=f["default"],t.compose=p["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.captureSelector=t.allCaptured=t.faceSelector=t.faceCaptured=t.documentSelector=t.documentCaptured=void 0;var o=n(29),i=n(4),s=(r(i),function(e){return e.captures.document}),c=function(e){return e.captures.face},u=t.documentCaptured=(0,o.createSelector)(s,function(e){return e.some(function(e){return e.valid})}),a=t.documentSelector=(0,o.createSelector)(s,function(e){return e.filter(function(e){return e.valid})}),l=t.faceCaptured=(0,o.createSelector)(c,function(e){return e.some(function(e){return e.valid})}),f=t.faceSelector=(0,o.createSelector)(c,function(e){return e.filter(function(e){return e.valid})});t.allCaptured=(0,o.createSelector)(u,l,function(e,t){return[e,t].every(function(e){return e})}),t.captureSelector=(0,o.createSelector)(a,f,function(e,t){return{documentCapture:e[0],faceCapture:t[0]}})},function(e,t,n){function r(e){if(!s(e)||d.call(e)!=c||i(e))return!1;var t=o(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&a.call(n)==f}var o=n(21),i=n(22),s=n(23),c="[object Object]",u=Object.prototype,a=Function.prototype.toString,l=u.hasOwnProperty,f=a.call(Object),d=u.toString;e.exports=r},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};var r=function(){var e=t[t.length-1],n=t.slice(0,-1);return{v:function(){return n.reduceRight(function(e,t){return t(e)},e.apply(void 0,arguments))}}}();return"object"==typeof r?r.v:void 0}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){function r(){_===y&&(_=y.slice())}function i(){return v}function c(e){if("function"!=typeof e)throw Error("Expected listener to be a function.");var t=!0;return r(),_.push(e),function(){if(t){t=!1,r();var n=_.indexOf(e);_.splice(n,1)}}}function l(e){if(!(0,s["default"])(e))throw Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(b)throw Error("Reducers may not dispatch actions.");try{b=!0,v=h(v,e)}finally{b=!1}for(var t=y=_,n=0;t.length>n;n++)t[n]();return e}function f(e){if("function"!=typeof e)throw Error("Expected the nextReducer to be a function.");h=e,l({type:a.INIT})}function d(){var e,t=c;return e={subscribe:function(e){function n(){e.next&&e.next(i())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");n();var r=t(n);return{unsubscribe:r}}},e[u["default"]]=function(){return this},e}var p;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw Error("Expected the enhancer to be a function.");return n(o)(e,t)}if("function"!=typeof e)throw Error("Expected the reducer to be a function.");var h=e,v=t,y=[],_=y,b=!1;return l({type:a.INIT}),p={dispatch:l,subscribe:c,getState:i,replaceReducer:f},p[u["default"]]=d,p}t.__esModule=!0,t.ActionTypes=void 0,t["default"]=o;var i=n(8),s=r(i),c=n(31),u=r(c),a=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw Error(e)}catch(t){}}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){l(a.supportsWebSockets),f(a.supportsGetUserMedia)}function i(e){o();try{if(!a.supportsWebSockets)throw"WebSockets not supported";var t=new c["default"];return t.connect(e),t}catch(n){console.log(n)}}t.__esModule=!0,t["default"]=i;var s=n(13),c=r(s),u=n(2),a=n(19),l=u.actions.setWebSocketSupport,f=u.actions.setGumSupport},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var s=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(24),u=o(c),a=n(4),l=o(a),f=n(1),d=r(f),p=n(2),h=n(25),v=o(h),y=p.actions.setWebSocketError,_=p.actions.setAuthenticated,b=function(){function e(){i(this,e)}return s(e,[{key:"connect",value:function(e){var t=this,n=u["default"].stringify({jwt:e}),r=d.SOCKET_URL+"?"+n,o=new v["default"](r);o.onerror=function(e){l["default"].emit("onError"),y(!0)},o.onopen=function(){t.socket=o,t.onMessage(),_(!0)}}},{key:"onMessage",value:function(){this.socket.onmessage=function(e){var t=JSON.parse(e.data);l["default"].emit("onMessage",t)}}},{key:"sendMessage",value:function(e){this.socket.send(e)}}]),e}();t["default"]=b},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return{type:u.CAPTURE_CREATE,payload:e}}function i(e){return{type:u.CAPTURE_VALID,payload:e}}function s(e){return{type:u.CAPTURE_DELETE,payload:e}}t.__esModule=!0,t.createCapture=o,t.validCapture=i,t.deleteCaptures=s;var c=n(1),u=r(c)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return{type:l.SET_WEBSOCKET_SUPPORT,payload:e}}function i(e){return{type:l.SET_WEBSOCKET_ERROR,payload:e}}function s(e){return{type:l.SET_DOCUMENT_TYPE,payload:e}}function c(e){return{type:l.SET_AUTHENTICATED,payload:e}}function u(e){return{type:l.SET_GUM_SUPPORT,payload:e}}t.__esModule=!0,t.setWebSocketSupport=o,t.setWebSocketError=i,t.setDocumentType=s,t.setAuthenticated=c,t.setGumSupport=u;var a=n(1),l=r(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);e.length>t;t++)n[t]=e[t];return n}return Array.from(e)}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments[1],n=t.payload;switch(t.type){case a.CAPTURE_CREATE:var r=e[n.method].slice(0,2),o=i({},n.method,[n.data].concat(s(r)));return(0,f["default"])({},e,o);case a.CAPTURE_VALID:var c=e[n.method].map(function(e){return e.id===n.data?(0,f["default"])({},e,{valid:!0}):e});return(0,f["default"])({},e,i({},n.method,c));case a.CAPTURE_DELETE:var u=i({},n,[]);return(0,f["default"])({},e,u);default:return d}}t.__esModule=!0,t.captures=c;var u=n(1),a=o(u),l=n(3),f=r(l),d={document:[],face:[]}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case a.SET_AUTHENTICATED:return e=(0,c["default"])({},e,{authenticated:t.payload});case a.SET_WEBSOCKET_SUPPORT:return e=(0,c["default"])({},e,{supportsWebSockets:t.payload});case a.SET_WEBSOCKET_ERROR:return e=(0,c["default"])({},e,{websocketErrorEncountered:t.payload});case a.SET_GUM_SUPPORT:return e=(0,c["default"])({},e,{supportsGetUserMedia:t.payload});case a.SET_DOCUMENT_TYPE:return e=(0,c["default"])({},e,{documentType:t.payload});default:return e}}t.__esModule=!0,t["default"]=i;var s=n(3),c=o(s),u=n(1),a=r(u),l={authenticated:!1,supportsWebSockets:!1,supportsGetUserMedia:!1,websocketErrorEncountered:null,documentType:null}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(6),i=n(16),s=n(17),c=r(s);t["default"]=(0,o.combineReducers)({captures:i.captures,globals:c["default"]})},function(e,t){"use strict";t.__esModule=!0;t.supportsGetUserMedia="getUserMedia"in navigator||"webkitGetUserMedia"in navigator||"mozGetUserMedia"in navigator||"msGetUserMedia"in navigator,t.supportsWebSockets="WebSocket"in window},function(e,t,n){var r;!function(o){function i(){this._events={},this._conf&&s.call(this,this._conf)}function s(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners&&(this._events.maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),this.wildcard&&(this.listenerTree={}))}function c(e){this._events={},this.newListener=!1,s.call(this,e)}function u(e,t,n,r){if(!n)return[];var o,i,s,c,a,l,f,d=[],p=t.length,h=t[r],v=t[r+1];if(r===p&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(o=0,i=n._listeners.length;i>o;o++)e&&e.push(n._listeners[o]);return[n]}if("*"===h||"**"===h||n[h]){if("*"===h){for(s in n)"_listeners"!==s&&n.hasOwnProperty(s)&&(d=d.concat(u(e,t,n[s],r+1)));return d}if("**"===h){f=r+1===p||r+2===p&&"*"===v,f&&n._listeners&&(d=d.concat(u(e,t,n,p)));for(s in n)"_listeners"!==s&&n.hasOwnProperty(s)&&("*"===s||"**"===s?(n[s]._listeners&&!f&&(d=d.concat(u(e,t,n[s],p))),d=d.concat(u(e,t,n[s],r))):d=d.concat(s===v?u(e,t,n[s],r+2):u(e,t,n[s],r)));return d}d=d.concat(u(e,t,n[h],r+1))}if(c=n["*"],c&&u(e,t,c,r+1),a=n["**"])if(p>r){a._listeners&&u(e,t,a,p);for(s in a)"_listeners"!==s&&a.hasOwnProperty(s)&&(s===v?u(e,t,a[s],r+2):s===h?u(e,t,a[s],r+1):(l={},l[s]=a[s],u(e,t,{"**":l},r+1)))}else a._listeners?u(e,t,a,p):a["*"]&&a["*"]._listeners&&u(e,t,a["*"],p);return d}function a(e,t){e="string"==typeof e?e.split(this.delimiter):e.slice();for(var n=0,r=e.length;r>n+1;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var i=this.listenerTree,s=e.shift();s;){if(i[s]||(i[s]={}),i=i[s],0===e.length){if(i._listeners){if("function"==typeof i._listeners)i._listeners=[i._listeners,t];else if(l(i._listeners)&&(i._listeners.push(t),!i._listeners.warned)){var c=f;o!==this._events.maxListeners&&(c=this._events.maxListeners),c>0&&i._listeners.length>c&&(i._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",i._listeners.length),console.trace&&console.trace())}}else i._listeners=t;return!0}s=e.shift()}return!0}var l=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},f=10;c.EventEmitter2=c,c.prototype.delimiter=".",c.prototype.setMaxListeners=function(e){this._events||i.call(this),this._events.maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e},c.prototype.event="",c.prototype.once=function(e,t){return this.many(e,1,t),this},c.prototype.many=function(e,t,n){function r(){0===--t&&o.off(e,r),n.apply(this,arguments)}var o=this;if("function"!=typeof n)throw Error("many only accepts instances of Function");return r._origin=n,this.on(e,r),o},c.prototype.emit=function(){this._events||i.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,n,r,o,s,c=arguments.length;if(this._all&&this._all.length){if(s=this._all.slice(),c>3)for(t=Array(c),o=1;c>o;o++)t[o]=arguments[o];for(r=0,n=s.length;n>r;r++)switch(this.event=e,c){case 1:s[r].call(this,e);break;case 2:s[r].call(this,e,arguments[1]);break;case 3:s[r].call(this,e,arguments[1],arguments[2]);break;default:s[r].apply(this,t)}}if(this.wildcard){s=[];var a="string"==typeof e?e.split(this.delimiter):e.slice();u.call(this,s,a,this.listenerTree,0)}else{if(s=this._events[e],"function"==typeof s){switch(this.event=e,c){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:for(t=Array(c-1),o=1;c>o;o++)t[o-1]=arguments[o];s.apply(this,t)}return!0}s&&(s=s.slice())}if(s&&s.length){if(c>3)for(t=Array(c-1),o=1;c>o;o++)t[o-1]=arguments[o];for(r=0,n=s.length;n>r;r++)switch(this.event=e,c){case 1:s[r].call(this);break;case 2:s[r].call(this,arguments[1]);break;case 3:s[r].call(this,arguments[1],arguments[2]);break;default:s[r].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:Error("Uncaught, unspecified 'error' event.");return!!this._all},c.prototype.emitAsync=function(){this._events||i.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,n,r,o,s,c=[],a=arguments.length;if(this._all){if(a>3)for(t=Array(a),o=1;a>o;o++)t[o]=arguments[o];for(r=0,n=this._all.length;n>r;r++)switch(this.event=e,a){case 1:c.push(this._all[r].call(this,e));break;case 2:c.push(this._all[r].call(this,e,arguments[1]));break;case 3:c.push(this._all[r].call(this,e,arguments[1],arguments[2]));break;default:c.push(this._all[r].apply(this,t))}}if(this.wildcard){s=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();u.call(this,s,l,this.listenerTree,0)}else s=this._events[e];if("function"==typeof s)switch(this.event=e,a){case 1:c.push(s.call(this));break;case 2:c.push(s.call(this,arguments[1]));break;case 3:c.push(s.call(this,arguments[1],arguments[2]));break;default:for(t=Array(a-1),o=1;a>o;o++)t[o-1]=arguments[o];c.push(s.apply(this,t))}else if(s&&s.length){if(a>3)for(t=Array(a-1),o=1;a>o;o++)t[o-1]=arguments[o];for(r=0,n=s.length;n>r;r++)switch(this.event=e,a){case 1:c.push(s[r].call(this));break;case 2:c.push(s[r].call(this,arguments[1]));break;case 3:c.push(s[r].call(this,arguments[1],arguments[2]));break;default:c.push(s[r].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(c)},c.prototype.on=function(e,t){if("function"==typeof e)return this.onAny(e),this;if("function"!=typeof t)throw Error("on only accepts instances of Function");if(this._events||i.call(this),this.emit("newListener",e,t),this.wildcard)return a.call(this,e,t),this;if(this._events[e]){if("function"==typeof this._events[e])this._events[e]=[this._events[e],t];else if(l(this._events[e])&&(this._events[e].push(t),!this._events[e].warned)){var n=f;o!==this._events.maxListeners&&(n=this._events.maxListeners),n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace&&console.trace())}}else this._events[e]=t;return this},c.prototype.onAny=function(e){if("function"!=typeof e)throw Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(e),this},c.prototype.addListener=c.prototype.on,c.prototype.off=function(e,t){function n(e){if(e!==o){var t=Object.keys(e);for(var r in t){var i=t[r],s=e[i];s instanceof Function||"object"!=typeof s||(Object.keys(s).length>0&&n(e[i]),0===Object.keys(s).length&&delete e[i])}}}if("function"!=typeof t)throw Error("removeListener only takes instances of Function");var r,i=[];if(this.wildcard){var s="string"==typeof e?e.split(this.delimiter):e.slice();i=u.call(this,null,s,this.listenerTree,0)}else{if(!this._events[e])return this;r=this._events[e],i.push({_listeners:r})}for(var c=0;i.length>c;c++){var a=i[c];if(r=a._listeners,l(r)){for(var f=-1,d=0,p=r.length;p>d;d++)if(r[d]===t||r[d].listener&&r[d].listener===t||r[d]._origin&&r[d]._origin===t){f=d;break}if(0>f)continue;return this.wildcard?a._listeners.splice(f,1):this._events[e].splice(f,1),0===r.length&&(this.wildcard?delete a._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(this.wildcard?delete a._listeners:delete this._events[e],this.emit("removeListener",e,t))}return n(this.listenerTree),this},c.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(t=this._all,n=0,r=t.length;r>n;n++)if(e===t[n])return t.splice(n,1),this.emit("removeListenerAny",e),this}else{for(t=this._all,n=0,r=t.length;r>n;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},c.prototype.removeListener=c.prototype.off,c.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||i.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=u.call(this,null,t,this.listenerTree,0),r=0;n.length>r;r++){var o=n[r];o._listeners=null}else{if(!this._events||!this._events[e])return this;this._events[e]=null}return this},c.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return u.call(this,t,n,this.listenerTree,0),t}return this._events||i.call(this),this._events[e]||(this._events[e]=[]),l(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},c.prototype.listenersAny=function(){return this._all?this._all:[]},r=function(){return c}.call(t,n,t,e),!(r!==o&&(e.exports=r))}()},function(e,t){function n(e){return r(Object(e))}var r=Object.getPrototypeOf;e.exports=n},function(e,t){function n(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}e.exports=n},function(e,t){function n(e){return!!e&&"object"==typeof e}e.exports=n},function(e,t,n){"use strict";function r(e,t){return t.encode?t.strict?o(e):encodeURIComponent(e):e}var o=n(30),i=n(3);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e){var t=Object.create(null);return"string"!=typeof e?t:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var n=e.replace(/\+/g," ").split("="),r=n.shift(),o=n.length>0?n.join("="):void 0;r=decodeURIComponent(r),o=void 0===o?null:decodeURIComponent(o),void 0===t[r]?t[r]=o:Array.isArray(t[r])?t[r].push(o):t[r]=[t[r],o]}),t):t},t.stringify=function(e,t){var n={encode:!0,strict:!0};return t=i(n,t),e?Object.keys(e).sort().map(function(n){var o=e[n];if(void 0===o)return"";if(null===o)return r(n,t);if(Array.isArray(o)){var i=[];return o.slice().forEach(function(e){void 0!==e&&i.push(null===e?r(n,t):r(n,t)+"="+r(e,t))}),i.join("&")}return r(n,t)+"="+r(o,t)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t,n){var r,o,i;!function(n,s){o=[],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(){function e(t,n,r){function o(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}var i={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:2e3,maxReconnectAttempts:null};r||(r={});for(var s in i)this[s]=void 0!==r[s]?r[s]:i[s];this.url=t,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var c,u=this,a=!1,l=!1,f=document.createElement("div");f.addEventListener("open",function(e){u.onopen(e)}),f.addEventListener("close",function(e){u.onclose(e)}),f.addEventListener("connecting",function(e){u.onconnecting(e)}),f.addEventListener("message",function(e){u.onmessage(e)}),f.addEventListener("error",function(e){u.onerror(e)}),this.addEventListener=f.addEventListener.bind(f),this.removeEventListener=f.removeEventListener.bind(f),this.dispatchEvent=f.dispatchEvent.bind(f),this.open=function(t){if(c=new WebSocket(u.url,n||[]),t){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else f.dispatchEvent(o("connecting")),this.reconnectAttempts=0;(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",u.url);var r=c,i=setTimeout(function(){(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",u.url),l=!0,r.close(),l=!1},u.timeoutInterval);c.onopen=function(n){clearTimeout(i),(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onopen",u.url),u.protocol=c.protocol,u.readyState=WebSocket.OPEN,u.reconnectAttempts=0;var r=o("open");r.isReconnect=t,t=!1,f.dispatchEvent(r)},c.onclose=function(n){if(clearTimeout(i),c=null,a)u.readyState=WebSocket.CLOSED,f.dispatchEvent(o("close"));else{u.readyState=WebSocket.CONNECTING;var r=o("connecting");r.code=n.code,r.reason=n.reason,r.wasClean=n.wasClean,f.dispatchEvent(r),t||l||((u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onclose",u.url),f.dispatchEvent(o("close")));var i=u.reconnectInterval*Math.pow(u.reconnectDecay,u.reconnectAttempts);setTimeout(function(){u.reconnectAttempts++,u.open(!0)},i>u.maxReconnectInterval?u.maxReconnectInterval:i)}},c.onmessage=function(t){(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",u.url,t.data);var n=o("message");n.data=t.data,f.dispatchEvent(n)},c.onerror=function(t){(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onerror",u.url,t),f.dispatchEvent(o("error"))}},1==this.automaticOpen&&this.open(!1),this.send=function(t){if(c)return(u.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","send",u.url,t),c.send(t);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,t){void 0===e&&(e=1e3),a=!0,c&&c.close(e,t)},this.refresh=function(){c&&c.close()}}if("WebSocket"in window)return e.prototype.onopen=function(e){},e.prototype.onclose=function(e){},e.prototype.onconnecting=function(e){},e.prototype.onmessage=function(e){},e.prototype.onerror=function(e){},e.debugAll=!1,e.CONNECTING=WebSocket.CONNECTING,e.OPEN=WebSocket.OPEN,e.CLOSING=WebSocket.CLOSING,e.CLOSED=WebSocket.CLOSED,e})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){return function(n,r,o){var s=e(n,r,o),u=s.dispatch,a=[],l={getState:s.getState,dispatch:function(e){return u(e)}};return a=t.map(function(e){return e(l)}),u=c["default"].apply(void 0,a)(s.dispatch),i({},s,{dispatch:u})}}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=o;var s=n(9),c=r(s)},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function r(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),o={},i=0;r.length>i;i++){var s=r[i],c=e[s];"function"==typeof c&&(o[s]=n(c,t))}return o}t.__esModule=!0,t["default"]=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=t&&t.type,r=n&&'"'+n+'"'||"an action";return"Given action "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function i(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:c.ActionTypes.INIT});if(void 0===r)throw Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if(void 0===n(void 0,{type:o}))throw Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+c.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function s(e){for(var t=Object.keys(e),n={},r=0;t.length>r;r++){var s=t[r];"function"==typeof e[s]&&(n[s]=e[s])}var c,u=Object.keys(n);try{i(n)}catch(a){c=a}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(c)throw c;for(var r=!1,i={},s=0;u.length>s;s++){var a=u[s],l=n[a],f=e[a],d=l(f,t);if(void 0===d){var p=o(a,t);throw Error(p)}i[a]=d,r=r||d!==f}return r?i:e}}t.__esModule=!0,t["default"]=s;var c=n(10),u=n(8),a=(r(u),n(11));r(a)},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);e.length>t;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){return e===t}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,o=null;return function(){for(var r=arguments.length,i=Array(r),s=0;r>s;s++)i[s]=arguments[s];return null!==n&&n.length===i.length&&i.every(function(e,r){return t(e,n[r])})?o:(n=i,o=e.apply(void 0,i))}}function i(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw Error("Selector creators expect all input-selectors to be functions, "+("instead received the following types: ["+n+"]"))}return t}function s(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;t>o;o++)r[o-1]=arguments[o];return function(){for(var t=arguments.length,o=Array(t),s=0;t>s;s++)o[s]=arguments[s];var c=0,u=o.pop(),a=i(o),l=e.apply(void 0,[function(){return c++,u.apply(void 0,arguments)}].concat(r)),f=function(e,t){for(var r=arguments.length,o=Array(r>2?r-2:0),i=2;r>i;i++)o[i-2]=arguments[i];var s=a.map(function(n){return n.apply(void 0,[e,t].concat(o))});return l.apply(void 0,n(s))};return f.resultFunc=u,f.recomputations=function(){return c},f.resetRecomputations=function(){return c=0},f}}function c(){return s(o).apply(void 0,arguments)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;if("object"!=typeof e)throw Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})}t.__esModule=!0,t.defaultMemoize=o,t.createSelectorCreator=s,t.createSelector=c,t.createStructuredSelector=u},function(e,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t,n){(function(t){"use strict";e.exports=n(32)(t||window||this)}).call(t,function(){return this}())},function(e,t){"use strict";e.exports=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}}])});